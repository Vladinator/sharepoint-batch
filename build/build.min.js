!function(){"use strict";var t={"./request.ts":
/*!********************!*\
  !*** ./request.ts ***!
  \********************/function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.RequestJson=e.Request=void 0;const n=r(/*! tslib */"../node_modules/tslib/tslib.es6.js"),a=r(/*! ./utils */"./utils.ts");e.Request=t=>n.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((e=>n.__awaiter(void 0,void 0,void 0,(function*(){let r;(0,a.safeCall)(t,"before",r);try{r=yield fetch(t.url,t),r&&r.ok?(0,a.safeCall)(t,"done",r):(0,a.safeCall)(t,"fail",r,null==r?void 0:r.status,null==r?void 0:r.statusText)}catch(n){(0,a.safeCall)(t,"fail",r,n)}(0,a.safeCall)(t,"finally",r),e(r)}))))}));e.RequestJson=t=>n.__awaiter(void 0,void 0,void 0,(function*(){const r=yield(0,e.Request)(t);if(r)try{return yield r.json()}catch(n){}}))},"./sharepoint.ts":
/*!***********************!*\
  !*** ./sharepoint.ts ***!
  \***********************/function(t,e,r){var n,a,o,s,i,l,c,u,f,d,h,p,y;Object.defineProperty(e,"__esModule",{value:!0}),e.SharePointBatch=e.Changeset=void 0;const _=r(/*! tslib */"../node_modules/tslib/tslib.es6.js"),v=r(/*! ./utils */"./utils.ts"),b=r(/*! ./request */"./request.ts"),g={method:"GET",url:""},P={method:"POST",url:"",headers:{}};class w{static Parse(t){if(!(0,v.isString)(t))return;try{return JSON.parse(t)}catch(i){}const e=w.Level,r=t.split(w.LineSeparator),n=[];let a=null,o=null,s=e.UNKNOWN;for(const l of r){if(w.BatchResponse1.test(l)){a&&(a.data=this.Parse(a.data),n.push(a),a=null),s=e.EOF;break}if(w.BatchResponse2.test(l))a&&(a.data=this.Parse(a.data),n.push(a)),a={headers:{},http:{status:0,statusText:""},ok:!1,data:null},o=a,s=e.HEADERS;else if(s===e.REQUEST_BODY)o&&(null==o.data&&(o.data=""),o.data+=l);else if(w.BatchResponse3.test(l)){if(s===e.REQUEST&&o){const t=l.match(w.BatchResponse3);o.http.status=t&&parseInt(t[1],10)||0,o.http.statusText=t&&t[2]||"",o.ok=2==(o.http.status/100|0),s=e.REQUEST_HEADERS}}else if(/^.+:\s*.+$/i.test(l)){if(s===e.HEADERS||s===e.REQUEST_HEADERS){const t=l.split(w.HeaderKVSeparator);if(t){const e=t.shift(),r=e&&e.trim();r&&o&&(o.headers[r]=t.join(w.HeaderKVSeparatorChar).trim())}}}else if(/^[\s\r\n]*$/i.test(l))switch(s){case e.HEADERS:s=e.REQUEST;break;case e.REQUEST:s=e.REQUEST_HEADERS;break;case e.REQUEST_HEADERS:s=e.REQUEST_BODY}}if(!n.length){const e=w.SafeParse(t);if(e&&e!==t)return e}return n}static SafeParse(t){if(!(0,v.isString)(t))return t;try{return JSON.parse(t)}catch(s){}let e,r;try{e=new DOMParser}catch(s){}if(!e)return t;try{r=e.parseFromString(t,"text/xml")}catch(s){}if(!r)return t;const n=r.querySelector("error");if(!n)return r;const a=n.querySelector("code"),o=n.querySelector("message");return`${a?a.innerHTML:0}: ${o?o.innerHTML:""}`}}w.Level={UNKNOWN:0,HEADERS:1,REQUEST:2,REQUEST_HEADERS:3,REQUEST_BODY:4,EOF:5},w.LineSeparator=/\r\n/,w.HeaderKVSeparator=/:/,w.HeaderKVSeparatorChar=":",w.BatchResponse1=/^--batchresponse_.+--$/i,w.BatchResponse2=/^--batchresponse_.+$/i,w.BatchResponse3=/^HTTP\/1\.1\s+(\d+)\s+(.+)$/i;class S{constructor(t){n.set(this,void 0),a.set(this,void 0),_.__classPrivateFieldSet(this,n,(0,v.extend)({},g,t),"f")}getOptions(){return _.__classPrivateFieldGet(this,n,"f")}getMethod(){return _.__classPrivateFieldGet(this,n,"f").method}getUrl(){return`${_.__classPrivateFieldGet(this,n,"f").url}${(0,v.toParams)(_.__classPrivateFieldGet(this,n,"f").params)}`}getHeaders(){const t=_.__classPrivateFieldGet(this,n,"f").headers,e=[];if((0,v.isObject)(t))for(const r in t)e.push({key:r,value:t[r]});return e}getPayload(){return _.__classPrivateFieldGet(this,n,"f").body}getResponsePayload(){return _.__classPrivateFieldGet(this,a,"f")}setResponsePayload(t){_.__classPrivateFieldSet(this,a,t,"f")}}e.Changeset=S,n=new WeakMap,a=new WeakMap;class m{constructor(t){o.add(this),s.set(this,void 0),i.set(this,void 0),_.__classPrivateFieldSet(this,s,(0,v.extend)({},g,t),"f"),_.__classPrivateFieldSet(this,i,[],"f")}getOptions(){return _.__classPrivateFieldGet(this,s,"f")}getChangesets(){return _.__classPrivateFieldGet(this,i,"f")}isChangesetsFull(){return _.__classPrivateFieldGet(this,i,"f").length>=m.NumMaxChangesets}addChangeset(t){if(t instanceof S){const e=t.getOptions();return"/"===e.url[0]&&(e.url=`${_.__classPrivateFieldGet(this,s,"f").url}${e.url}`),_.__classPrivateFieldGet(this,i,"f").push(t)-1}return-1}getPayload(t){const e=[];for(const r of _.__classPrivateFieldGet(this,i,"f")){const n=r.getMethod(),a="GET"===n?null:`changeset_${(0,v.createGUID)()}`;if(e.push(`--batch_${t}`),a?e.push(`Content-Type: multipart/mixed; boundary="${a}"`):e.push("Content-Type: application/http"),e.push("Content-Transfer-Encoding: binary"),e.push(""),"GET"===n){e.push(`${n} ${r.getUrl()} HTTP/1.1`),e.push("Accept: application/json;odata=verbose");for(const t of r.getHeaders())e.push(`${t.key}: ${t.value}`);e.push("")}else{e.push(`--${a}`),e.push("Content-Type: application/http"),e.push("Content-Transfer-Encoding: binary"),e.push(""),e.push(`${n} ${r.getUrl()} HTTP/1.1`),e.push("Accept: application/json;odata=verbose"),e.push("Content-Type: application/json;odata=verbose");for(const n of r.getHeaders())e.push(`${n.key}: ${n.value}`);e.push("");const t=r.getPayload();t&&(e.push(JSON.stringify(t)),e.push(""))}a&&e.push(`--${a}--`)}return e.join("\r\n")}send(t,e){return _.__awaiter(this,void 0,void 0,(function*(){const r=_.__classPrivateFieldGet(this,i,"f");r.forEach((t=>(0,v.safeCall)(t.getOptions(),"before",t)));const n=(...t)=>{r.forEach((e=>(0,v.safeCall)(e.getOptions(),"fail",e,...t))),r.forEach((t=>(0,v.safeCall)(t.getOptions(),"finally",t)))},a=()=>{r.forEach((t=>(0,v.safeCall)(t.getOptions(),"finally",t)))},s=_.__classPrivateFieldGet(this,o,"m",l).call(this,t,e),u=(0,v.extend)({},s);let f=!1,d=!1;s.done=()=>f=!0,s.fail=()=>d=!0;const h=yield(0,b.Request)(s);if(!h)return d&&(0,v.safeCall)(u,"fail",h),void n();const p=yield h.text();if(!p||!h.ok){const t=w.SafeParse(p);return d&&(0,v.safeCall)(u,"fail",h,t,h.status,h.statusText),void n(t,h.status,h.statusText)}const y=w.Parse(p);if(!(0,v.isArray)(y))return r.forEach((t=>_.__classPrivateFieldGet(this,o,"m",c).call(this,t,p))),f&&(0,v.safeCall)(u,"done",h,p),a(),p;const g=y;return r.forEach(((t,e)=>_.__classPrivateFieldGet(this,o,"m",c).call(this,t,g[e]))),f&&(0,v.safeCall)(u,"done",h,g),a(),g}))}}s=new WeakMap,i=new WeakMap,o=new WeakSet,l=function(t,e){const r=t.getOptions(),n=(0,v.extend)({},P,r,e),a=(0,v.createGUID)();return n.url=`${r.url}/_api/$batch`,n.headers&&(0,v.extend)(n.headers,{"Content-Type":`multipart/mixed; boundary="batch_${a}"`,"X-RequestDigest":r.digest}),n.body=`${this.getPayload(a)}\r\n--batch_${a}--`,n},c=function(t,e){t.setResponsePayload(e);const r=(0,v.isObject)(e)?e:null,n=2==(r?r.http.status/100|0:0);r&&(r.changeset=t);const a=t.getOptions();n?(0,v.safeCall)(a,"fail",t,e):(0,v.safeCall)(a,"done",t,e)},m.NumMaxChangesets=100;e.SharePointBatch=class{constructor(t){u.add(this),f.set(this,void 0),d.set(this,void 0),h.set(this,void 0),_.__classPrivateFieldSet(this,f,t,"f"),_.__classPrivateFieldSet(this,d,[],"f")}static GetSharePointOptions(){const t=window,e=t._spPageContextInfo,r=t.GetRequestDigest;if(!(0,v.isObject)(e)||"function"!=typeof r)return;let n,a=e.webAbsoluteUrl;try{n=r()}catch(o){}return(0,v.isString)(a)||(a=""),(0,v.isString)(n)||(n=""),{url:a,digest:n}}getOptions(){return _.__classPrivateFieldGet(this,f,"f")}addChangeset(t){let e=_.__classPrivateFieldGet(this,u,"m",y).call(this);return e.isChangesetsFull()&&(e=_.__classPrivateFieldGet(this,u,"m",p).call(this)),e.addChangeset(t)>-1}send(t){return _.__awaiter(this,void 0,void 0,(function*(){const e=(0,v.extend)({},t),r=(0,v.extend)({},e);let n=!1,a=!1,o=[];e.done=(...t)=>(n=!0,o=t),e.fail=(...t)=>(a=!0,o=t),e["finally"]=()=>{};const s=[];let i=0,l=0;for(const t of _.__classPrivateFieldGet(this,d,"f")){const r=yield t.send(this,e);if((0,v.isArray)(r)){const t=r;i+=t.length,s.push(...t)}else{let e=t.getChangesets().length;for(l+=e;e-- >0;)s.push(r)}}return n&&!a&&!i&&l&&(n=!1,a=!0),n||a||(n=!0,o[0]=r),n?((0,v.safeCall)(r,"done",o[1],s),(0,v.safeCall)(r,"finally",o[1],s),{success:!0,ok:!0,results:s}):((0,v.safeCall)(r,"fail",o[1],o[2],o[3],o[4]),(0,v.safeCall)(r,"finally",o[1],o[2],o[3],o[4]),{error:!0,ok:!1,results:o[2]})}))}},f=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakSet,p=function(t){const e=(0,v.extend)({},g,_.__classPrivateFieldGet(this,f,"f"),t);return _.__classPrivateFieldSet(this,h,new m(e),"f"),_.__classPrivateFieldGet(this,d,"f").push(_.__classPrivateFieldGet(this,h,"f")),_.__classPrivateFieldGet(this,h,"f")},y=function(){return _.__classPrivateFieldGet(this,h,"f")?_.__classPrivateFieldGet(this,h,"f"):_.__classPrivateFieldGet(this,u,"m",p).call(this)}},"./utils.ts":
/*!******************!*\
  !*** ./utils.ts ***!
  \******************/function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.safeCall=e.createGUID=e.toParams=e.extend=e.isString=e.isObject=e.isArray=void 0;e.isArray=t=>Array.isArray(t);e.isObject=(t,r=!1)=>t&&"object"==typeof t&&(!r||!(0,e.isArray)(t));e.isString=t=>"string"==typeof t;e.extend=(t,...e)=>Object.assign(t,...e);e.toParams=t=>{if(null==t)return"";const r=(t,n)=>{if((0,e.isArray)(t))return t.map(((t,e)=>`${n||"a"}[${e}]=${r(t)}`)).join("&");if((0,e.isObject)(t)){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const a=t[n];Array.isArray(a)?e.push(r(t[n],n)):e.push(`${n}=${r(t[n])}`)}return e.join("&")}const a=`${t}`;try{return encodeURIComponent(a)}catch(o){}return a},n=r(t);return n.length?`?${n}`:""};e.createGUID=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}));e.safeCall=(t,e,...r)=>{const n=t[e];"function"==typeof n&&n.call(null,t,...r)}},"../node_modules/tslib/tslib.es6.js":
/*!******************************************!*\
  !*** ../node_modules/tslib/tslib.es6.js ***!
  \******************************************/function(t,e,r){r.r(e),r.d(e,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return P},__asyncValues:function(){return S},__await:function(){return g},__awaiter:function(){return u},__classPrivateFieldGet:function(){return j},__classPrivateFieldIn:function(){return C},__classPrivateFieldSet:function(){return T},__createBinding:function(){return d},__decorate:function(){return i},__exportStar:function(){return h},__extends:function(){return a},__generator:function(){return f},__importDefault:function(){return E},__importStar:function(){return O},__makeTemplateObject:function(){return m},__metadata:function(){return c},__param:function(){return l},__read:function(){return y},__rest:function(){return s},__spread:function(){return _},__spreadArray:function(){return b},__spreadArrays:function(){return v},__values:function(){return p}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]])}return r}function i(t,e,r,n){var a,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function l(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,n){return new(r||(r=Promise))((function(a,o){function s(t){try{l(n.next(t))}catch(e){o(e)}}function i(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,i)}l((n=n.apply(t,e||[])).next())}))}function f(t,e){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n["return"]:o[0]?n["throw"]||((a=n["return"])&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(i){o=[6,i],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var d=Object.create?function(t,e,r,n){n===undefined&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]};function h(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||d(e,t,r)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(a)throw a.error}}return s}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function v(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,i=o.length;s<i;s++,a++)n[a]=o[s];return n}function b(t,e,r){if(r||2===arguments.length)for(var n,a=0,o=e.length;a<o;a++)!n&&a in e||(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return t.concat(n||Array.prototype.slice.call(e))}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function P(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){a[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||i(t,e)}))})}function i(t,e){try{(r=a[t](e)).value instanceof g?Promise.resolve(r.value.v).then(l,c):u(o[0][2],r)}catch(n){u(o[0][3],n)}var r}function l(t){i("next",t)}function c(t){i("throw",t)}function u(t,e){t(e),o.shift(),o.length&&i(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,a){e[n]=t[n]?function(e){return(r=!r)?{value:g(t[n](e)),done:"return"===n}:a?a(e):e}:a}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,a){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,a,(e=t[r](e)).done,e.value)}))}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e};function O(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&d(e,t,r);return x(e,t),e}function E(t){return t&&t.__esModule?t:{"default":t}}function j(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function T(t,e,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(t,r):a?a.value=r:e.set(t,r),r}function C(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}}},e={};function r(n){var a=e[n];if(a!==undefined)return a.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};!function(){var t=n;
/*!******************!*\
  !*** ./index.ts ***!
  \******************/Object.defineProperty(t,"__esModule",{value:!0});const e=r(/*! ./sharepoint */"./sharepoint.ts");((t,r)=>{r.Changeset=e.Changeset,t.SharePointBatch=r})(window,e.SharePointBatch)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUMsUUFHckIsSUFBSUMsRUFBU0wsRUFBeUJFLEdBQVksQ0FHakRFLFFBQVMsSUFPVixPQUhBRSxFQUFvQkosR0FBVUcsRUFBUUEsRUFBT0QsUUFBU0gsR0FHL0NJLEVBQU9ELFFDcEJmSCxFQUFvQi9HLEVBQUksU0FBU2tILEVBQVNHLEdBQ3pDLElBQUksSUFBSTdOLEtBQU82TixFQUNYTixFQUFvQmhJLEVBQUVzSSxFQUFZN04sS0FBU3VOLEVBQW9CaEksRUFBRW1JLEVBQVMxTixJQUM1RW9GLE9BQU8rQyxlQUFldUYsRUFBUzFOLEVBQUssQ0FBRTJLLFlBQVksRUFBTUMsSUFBS2lELEVBQVc3TixNQ0ozRXVOLEVBQW9CaEksRUFBSSxTQUFTdUksRUFBS3pILEdBQVEsT0FBT2pCLE9BQU93QixVQUFVZixlQUFlUyxLQUFLd0gsRUFBS3pILElDQy9Ga0gsRUFBb0J0SCxFQUFJLFNBQVN5SCxHQUNYLG9CQUFYMUQsUUFBMEJBLE9BQU8rRCxhQUMxQzNJLE9BQU8rQyxlQUFldUYsRUFBUzFELE9BQU8rRCxZQUFhLENBQUVwTSxNQUFPLFdBRTdEeUQsT0FBTytDLGVBQWV1RixFQUFTLGFBQWMsQ0FBRS9MLE9BQU8sSzs7O3VFQ0x2RCxnREFFQSxFQUFFdUMsRUFBYThKLEtBQ1hBLEVBQWdCaE4sVUFBWSxFQUFBQSxVQUM1QmtELEVBQU84SixnQkFBa0JBLEdBRjdCLENBR0c5SixPQUFRLEVBQUE4SixpQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3JlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc2hhcmVwb2ludC50cyIsIndlYnBhY2s6Ly8vLi91dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdFJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5leHBvcnQgY29uc3QgUmVxdWVzdCA9IGFzeW5jIChvcHRpb25zOiBSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8UmVxdWVzdFJlc3BvbnNlPiA9PiB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2U6IFJlcXVlc3RSZXNwb25zZTtcclxuICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnYmVmb3JlJywgcmVzcG9uc2UpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKG9wdGlvbnMudXJsLCBvcHRpb25zIGFzIG5ldmVyKTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnZG9uZScsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNhZmVDYWxsKG9wdGlvbnMsICdmYWlsJywgcmVzcG9uc2UsIHJlc3BvbnNlPy5zdGF0dXMsIHJlc3BvbnNlPy5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICAgICAgc2FmZUNhbGwob3B0aW9ucywgJ2ZhaWwnLCByZXNwb25zZSwgZXgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2FmZUNhbGwob3B0aW9ucywgJ2ZpbmFsbHknLCByZXNwb25zZSk7XHJcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlcXVlc3RKc29uID0gYXN5bmMgKG9wdGlvbnM6IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxhbnkgfCB1bmRlZmluZWQ+ID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUmVxdWVzdChvcHRpb25zKTtcclxuICAgIGlmICghcmVzcG9uc2UpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSBjYXRjaCAoZXgpIHtcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHsgUmVxdWVzdE1ldGhvZHMsIFJlcXVlc3RPcHRpb25zLCBTaGFyZVBvaW50T3B0aW9ucywgQmF0Y2hKb2JPcHRpb25zLCBCYXRjaEpvYkhlYWRlciwgU2hhcmVQb2ludEJhdGNoSm9iUmVzcG9uc2UsIFJlc3BvbnNlUGFyc2VyUGF5bG9hZCwgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2UsIFNoYXJlUG9pbnRCYXRjaFJlc3BvbnNlU3VjY2VzcywgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2VFcnJvciB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcsIGV4dGVuZCwgdG9QYXJhbXMsIGNyZWF0ZUdVSUQsIHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCB7IFJlcXVlc3QgfSBmcm9tICcuL3JlcXVlc3QnO1xyXG5cclxuY29uc3QgRmFsbGJhY2tCYXRjaEpvYk9wdGlvbnM6IEJhdGNoSm9iT3B0aW9ucyA9IHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICB1cmw6ICcnLFxyXG59O1xyXG5cclxuY29uc3QgRmFsbGJhY2tSZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnMgPSB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIHVybDogJycsXHJcbiAgICBoZWFkZXJzOiB7fSxcclxufTtcclxuXHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuY2xhc3MgUmVzcG9uc2VQYXJzZXIge1xyXG5cclxuICAgIHN0YXRpYyBMZXZlbCA9IHtcclxuICAgICAgICBVTktOT1dOOiAwLFxyXG4gICAgICAgIEhFQURFUlM6IDEsXHJcbiAgICAgICAgUkVRVUVTVDogMixcclxuICAgICAgICBSRVFVRVNUX0hFQURFUlM6IDMsXHJcbiAgICAgICAgUkVRVUVTVF9CT0RZOiA0LFxyXG4gICAgICAgIEVPRjogNSxcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIExpbmVTZXBhcmF0b3IgPSAvXFxyXFxuLztcclxuICAgIHN0YXRpYyBIZWFkZXJLVlNlcGFyYXRvciA9IC86LztcclxuICAgIHN0YXRpYyBIZWFkZXJLVlNlcGFyYXRvckNoYXIgPSAnOic7XHJcbiAgICBzdGF0aWMgQmF0Y2hSZXNwb25zZTEgPSAvXi0tYmF0Y2hyZXNwb25zZV8uKy0tJC9pO1xyXG4gICAgc3RhdGljIEJhdGNoUmVzcG9uc2UyID0gL14tLWJhdGNocmVzcG9uc2VfLiskL2k7XHJcbiAgICBzdGF0aWMgQmF0Y2hSZXNwb25zZTMgPSAvXkhUVFBcXC8xXFwuMVxccysoXFxkKylcXHMrKC4rKSQvaTtcclxuXHJcbiAgICBzdGF0aWMgUGFyc2UocmF3OiBzdHJpbmcpOiBSZXNwb25zZVBhcnNlclBheWxvYWRbXSB8IGFueSB7XHJcblxyXG4gICAgICAgIGlmICghaXNTdHJpbmcocmF3KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcnNlTGV2ZWxzID0gUmVzcG9uc2VQYXJzZXIuTGV2ZWw7XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSByYXcuc3BsaXQoUmVzcG9uc2VQYXJzZXIuTGluZVNlcGFyYXRvcik7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0czogUmVzcG9uc2VQYXJzZXJQYXlsb2FkW10gPSBbXTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXA6IFJlc3BvbnNlUGFyc2VyUGF5bG9hZCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGxldCBjd286IFJlc3BvbnNlUGFyc2VyUGF5bG9hZCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGxldCBsZXZlbCA9IHBhcnNlTGV2ZWxzLlVOS05PV047XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG5cclxuICAgICAgICAgICAgaWYgKFJlc3BvbnNlUGFyc2VyLkJhdGNoUmVzcG9uc2UxLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGVtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAuZGF0YSA9IHRoaXMuUGFyc2UodGVtcC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5FT0Y7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoUmVzcG9uc2VQYXJzZXIuQmF0Y2hSZXNwb25zZTIudGVzdChsaW5lKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5kYXRhID0gdGhpcy5QYXJzZSh0ZW1wLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0ZW1wID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHA6IHsgc3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9rOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBjd28gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5IRUFERVJTO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gcGFyc2VMZXZlbHMuUkVRVUVTVF9CT0RZKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGN3bykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3dvLmRhdGEgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3dvLmRhdGEgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3dvLmRhdGEgKz0gbGluZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFJlc3BvbnNlUGFyc2VyLkJhdGNoUmVzcG9uc2UzLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IHBhcnNlTGV2ZWxzLlJFUVVFU1QpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN3bykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaHR0cCA9IGxpbmUubWF0Y2goUmVzcG9uc2VQYXJzZXIuQmF0Y2hSZXNwb25zZTMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjd28uaHR0cC5zdGF0dXMgPSBodHRwICYmIHBhcnNlSW50KGh0dHBbMV0sIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjd28uaHR0cC5zdGF0dXNUZXh0ID0gaHR0cCAmJiBodHRwWzJdIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjd28ub2sgPSAoY3dvLmh0dHAuc3RhdHVzIC8gMTAwIHwgMCkgPT09IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsID0gcGFyc2VMZXZlbHMuUkVRVUVTVF9IRUFERVJTO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICgvXi4rOlxccyouKyQvaS50ZXN0KGxpbmUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID09PSBwYXJzZUxldmVscy5IRUFERVJTIHx8IGxldmVsID09PSBwYXJzZUxldmVscy5SRVFVRVNUX0hFQURFUlMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnNwbGl0KFJlc3BvbnNlUGFyc2VyLkhlYWRlcktWU2VwYXJhdG9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdIZWFkZXIgPSBwYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSByYXdIZWFkZXIgJiYgcmF3SGVhZGVyLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgY3dvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3dvLmhlYWRlcnNba2V5XSA9IHBhcnRzLmpvaW4oUmVzcG9uc2VQYXJzZXIuSGVhZGVyS1ZTZXBhcmF0b3JDaGFyKS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eW1xcc1xcclxcbl0qJC9pLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyc2VMZXZlbHMuSEVBREVSUzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5SRVFVRVNUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwYXJzZUxldmVscy5SRVFVRVNUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHBhcnNlTGV2ZWxzLlJFUVVFU1RfSEVBREVSUztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyc2VMZXZlbHMuUkVRVUVTVF9IRUFERVJTOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHBhcnNlTGV2ZWxzLlJFUVVFU1RfQk9EWTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2FmZVBhcnNlID0gUmVzcG9uc2VQYXJzZXIuU2FmZVBhcnNlKHJhdyk7XHJcbiAgICAgICAgICAgIGlmIChzYWZlUGFyc2UgJiYgc2FmZVBhcnNlICE9PSByYXcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2FmZVBhcnNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBTYWZlUGFyc2UocmF3OiBhbnkpOiBSZXNwb25zZVBhcnNlclBheWxvYWQgfCBhbnkge1xyXG5cclxuICAgICAgICBpZiAoIWlzU3RyaW5nKHJhdykpXHJcbiAgICAgICAgICAgIHJldHVybiByYXc7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJhdyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXg6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRvbTogRE9NUGFyc2VyIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkb20gPSBuZXcgRE9NUGFyc2VyKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXg6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFkb20pXHJcbiAgICAgICAgICAgIHJldHVybiByYXc7XHJcblxyXG4gICAgICAgIGxldCBkb2M6IERvY3VtZW50IHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkb2MgPSBkb20ucGFyc2VGcm9tU3RyaW5nKHJhdywgJ3RleHQveG1sJyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXg6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFkb2MpXHJcbiAgICAgICAgICAgIHJldHVybiByYXc7XHJcblxyXG4gICAgICAgIGNvbnN0IGVycm9yID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ2Vycm9yJyk7XHJcblxyXG4gICAgICAgIGlmICghZXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBkb2M7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvZGUgPSBlcnJvci5xdWVyeVNlbGVjdG9yKCdjb2RlJyk7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLnF1ZXJ5U2VsZWN0b3IoJ21lc3NhZ2UnKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29kZVRleHQgPSBjb2RlID8gY29kZS5pbm5lckhUTUwgOiAwO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZXh0ID0gbWVzc2FnZSA/IG1lc3NhZ2UuaW5uZXJIVE1MIDogJyc7XHJcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYCR7Y29kZVRleHR9OiAke21lc3NhZ2VUZXh0fWA7XHJcblxyXG4gICAgICAgIHJldHVybiBlcnJvclRleHQ7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIEluZGl2aWR1YWwgcXVlcmllcyBhcmUgYnVuZGxlZCBpbnRvIFwiY2hhbmdlc2V0XCIgZW50cmllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGFuZ2VzZXQge1xyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNvcHRpb25zOiBCYXRjaEpvYk9wdGlvbnM7XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgI3Jlc3BvbnNlUGF5bG9hZDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEJhdGNoSm9iT3B0aW9ucykge1xyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgYEdFVGAsIGBQT1NUYCwgYC4uLmAgbWV0aG9kLlxyXG4gICAgICogQHJldHVybnMgUmVxdWVzdCBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIGdldE1ldGhvZCgpOiBSZXF1ZXN0TWV0aG9kcyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI29wdGlvbnMubWV0aG9kO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZnVsbCByZXF1ZXN0IFVSTC5cclxuICAgICAqIEByZXR1cm5zIFJlcXVlc3QgVVJMIHdpdGggYW55IG9wdGlvbmFsIHBhcmFtcy5cclxuICAgICAqL1xyXG4gICAgZ2V0VXJsKCkge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLiNvcHRpb25zLnVybH0ke3RvUGFyYW1zKHRoaXMuI29wdGlvbnMucGFyYW1zKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgaGVhZGVycyBvYmplY3QgZm9yIHRoZSByZXF1ZXN0LlxyXG4gICAgICogQHJldHVybnMgUmVxdWVzdCBoZWFkZXIgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIGdldEhlYWRlcnMoKTogQmF0Y2hKb2JIZWFkZXJbXSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLiNvcHRpb25zLmhlYWRlcnM7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0czogQmF0Y2hKb2JIZWFkZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoaXNPYmplY3QoaGVhZGVycykpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgaW4gaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsga2V5OiBoZWFkZXIsIHZhbHVlOiBoZWFkZXJzW2hlYWRlcl0gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBnZXRQYXlsb2FkKCk6IEJvZHlJbml0IHwgbnVsbCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI29wdGlvbnMuYm9keTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHBheWxvYWQgZnJvbSB0aGUgc2VydmVyIG9uY2UgdGhlIGNoYW5nZXNldCBpcyBxdWVyaWVkIGFuZCBwcm9jZXNzZWQuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgcmF3IGRhdGEgdGhlIHNlcnZlciByZXNwb25kZWQgd2l0aCBmcm9tIHRoZSByZXF1ZXN0LlxyXG4gICAgICovXHJcbiAgICBnZXRSZXNwb25zZVBheWxvYWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Jlc3BvbnNlUGF5bG9hZDtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBzZXRSZXNwb25zZVBheWxvYWQocGF5bG9hZDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy4jcmVzcG9uc2VQYXlsb2FkID0gcGF5bG9hZDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCdW5kbGVzIG9mIENoYW5nZXNldCBvYmplY3RzIGFyZSBsdW1wZWQgaW50byBcImJhdGNoIGpvYlwiIGVudHJpZXMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY2xhc3MgQmF0Y2hKb2Ige1xyXG5cclxuICAgIHN0YXRpYyBOdW1NYXhDaGFuZ2VzZXRzID0gMTAwO1xyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNvcHRpb25zOiBCYXRjaEpvYk9wdGlvbnM7XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgI2NoYW5nZXNldHM6IENoYW5nZXNldFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEJhdGNoSm9iT3B0aW9ucykge1xyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLiNjaGFuZ2VzZXRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0T3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDaGFuZ2VzZXRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNjaGFuZ2VzZXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaWdub3JlICovXHJcbiAgICBpc0NoYW5nZXNldHNGdWxsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNjaGFuZ2VzZXRzLmxlbmd0aCA+PSBCYXRjaEpvYi5OdW1NYXhDaGFuZ2VzZXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXBwZW5kIGEgY2hhbmdlc2V0IHRvIHRoZSBjaGFuZ2VzZXQgcXVldWUuXHJcbiAgICAgKiBAcGFyYW0gY2hhbmdlc2V0IEFuIG9iamVjdCBvZiBgQ2hhbmdlc2V0YC5cclxuICAgICAqIEByZXR1cm5zIFN1Y2Nlc3NmdWxsIGFkZGl0aW9ucyByZXR1cm4gdGhlIGBpbmRleGAgaW4gdGhlIHF1ZXVlIG90aGVyd2lzZSBgLTFgLlxyXG4gICAgICovXHJcbiAgICBhZGRDaGFuZ2VzZXQoY2hhbmdlc2V0OiBDaGFuZ2VzZXQpOiBudW1iZXIge1xyXG4gICAgICAgIGlmIChjaGFuZ2VzZXQgaW5zdGFuY2VvZiBDaGFuZ2VzZXQpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNoYW5nZXNldC5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVybFswXSA9PT0gJy8nKVxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBgJHt0aGlzLiNvcHRpb25zLnVybH0ke29wdGlvbnMudXJsfWA7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNjaGFuZ2VzZXRzLnB1c2goY2hhbmdlc2V0KSAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBnZXRQYXlsb2FkKGd1aWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGFuZ2VzZXQgb2YgdGhpcy4jY2hhbmdlc2V0cykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gY2hhbmdlc2V0LmdldE1ldGhvZCgpO1xyXG4gICAgICAgICAgICBjb25zdCBib3VuZGFyeSA9IG1ldGhvZCA9PT0gJ0dFVCcgPyBudWxsIDogYGNoYW5nZXNldF8ke2NyZWF0ZUdVSUQoKX1gO1xyXG5cclxuICAgICAgICAgICAgZGF0YS5wdXNoKGAtLWJhdGNoXyR7Z3VpZH1gKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChib3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKGBDb250ZW50LVR5cGU6IG11bHRpcGFydC9taXhlZDsgYm91bmRhcnk9XCIke2JvdW5kYXJ5fVwiYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vaHR0cCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IGJpbmFyeScpO1xyXG4gICAgICAgICAgICBkYXRhLnB1c2goJycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYCR7bWV0aG9kfSAke2NoYW5nZXNldC5nZXRVcmwoKX0gSFRUUC8xLjFgKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBjaGFuZ2VzZXQuZ2V0SGVhZGVycygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGAke2hlYWRlci5rZXl9OiAke2hlYWRlci52YWx1ZX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJycpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYC0tJHtib3VuZGFyeX1gKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9odHRwJyk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IGJpbmFyeScpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYCR7bWV0aG9kfSAke2NoYW5nZXNldC5nZXRVcmwoKX0gSFRUUC8xLjFgKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2UnKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBjaGFuZ2VzZXQuZ2V0SGVhZGVycygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGAke2hlYWRlci5rZXl9OiAke2hlYWRlci52YWx1ZX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXNldFBheWxvYWQgPSBjaGFuZ2VzZXQuZ2V0UGF5bG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VzZXRQYXlsb2FkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChKU09OLnN0cmluZ2lmeShjaGFuZ2VzZXRQYXlsb2FkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYm91bmRhcnkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaChgLS0ke2JvdW5kYXJ5fS0tYCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0YS5qb2luKCdcXHJcXG4nKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgI2dldFNlbmRPcHRpb25zKGJhdGNoOiBTaGFyZVBvaW50QmF0Y2gsIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyk6IFJlcXVlc3RPcHRpb25zIHtcclxuXHJcbiAgICAgICAgY29uc3QgYmF0Y2hPcHRpb25zID0gYmF0Y2guZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICBjb25zdCBmYWxsYmFjazogUmVxdWVzdE9wdGlvbnMgPSBleHRlbmQoe30sIEZhbGxiYWNrUmVxdWVzdE9wdGlvbnMsIGJhdGNoT3B0aW9ucywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGd1aWQgPSBjcmVhdGVHVUlEKCk7XHJcblxyXG4gICAgICAgIGZhbGxiYWNrLnVybCA9IGAke2JhdGNoT3B0aW9ucy51cmx9L19hcGkvJGJhdGNoYDtcclxuXHJcbiAgICAgICAgaWYgKGZhbGxiYWNrLmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGZhbGxiYWNrLmhlYWRlcnMsIHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBgbXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1cImJhdGNoXyR7Z3VpZH1cImAsXHJcbiAgICAgICAgICAgICAgICAnWC1SZXF1ZXN0RGlnZXN0JzogYmF0Y2hPcHRpb25zLmRpZ2VzdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmYWxsYmFjay5ib2R5ID0gYCR7dGhpcy5nZXRQYXlsb2FkKGd1aWQpfVxcclxcbi0tYmF0Y2hfJHtndWlkfS0tYDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAjcHJvY2Vzc1Jlc3BvbnNlUGF5bG9hZChjaGFuZ2VzZXQ6IENoYW5nZXNldCwgcGF5bG9hZDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgIGNoYW5nZXNldC5zZXRSZXNwb25zZVBheWxvYWQocGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzUGF5bG9hZCA9IGlzT2JqZWN0KHBheWxvYWQpO1xyXG4gICAgICAgIGNvbnN0IHNhZmVQYXlsb2FkID0gaXNQYXlsb2FkID8gcGF5bG9hZCBhcyBSZXNwb25zZVBhcnNlclBheWxvYWQgOiBudWxsO1xyXG4gICAgICAgIGNvbnN0IG9rID0gKHNhZmVQYXlsb2FkID8gc2FmZVBheWxvYWQuaHR0cC5zdGF0dXMgLyAxMDAgfCAwIDogMCkgPT09IDI7XHJcblxyXG4gICAgICAgIGlmIChzYWZlUGF5bG9hZClcclxuICAgICAgICAgICAgc2FmZVBheWxvYWQuY2hhbmdlc2V0ID0gY2hhbmdlc2V0O1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zID0gY2hhbmdlc2V0LmdldE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgaWYgKG9rKVxyXG4gICAgICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnZmFpbCcsIGNoYW5nZXNldCwgcGF5bG9hZCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnZG9uZScsIGNoYW5nZXNldCwgcGF5bG9hZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIGFzeW5jIHNlbmQoYmF0Y2g6IFNoYXJlUG9pbnRCYXRjaCwgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxTaGFyZVBvaW50QmF0Y2hKb2JSZXNwb25zZT4ge1xyXG5cclxuICAgICAgICBjb25zdCBjaGFuZ2VzZXRzID0gdGhpcy4jY2hhbmdlc2V0cztcclxuICAgICAgICBjaGFuZ2VzZXRzLmZvckVhY2goY2hhbmdlc2V0ID0+IHNhZmVDYWxsKGNoYW5nZXNldC5nZXRPcHRpb25zKCksICdiZWZvcmUnLCBjaGFuZ2VzZXQpKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2FmZUVycm9yID0gKC4uLmFyZ3M6IGFueSk6IHVuZGVmaW5lZCA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNldHMuZm9yRWFjaChjaGFuZ2VzZXQgPT4gc2FmZUNhbGwoY2hhbmdlc2V0LmdldE9wdGlvbnMoKSwgJ2ZhaWwnLCBjaGFuZ2VzZXQsIC4uLmFyZ3MpKTtcclxuICAgICAgICAgICAgY2hhbmdlc2V0cy5mb3JFYWNoKGNoYW5nZXNldCA9PiBzYWZlQ2FsbChjaGFuZ2VzZXQuZ2V0T3B0aW9ucygpLCAnZmluYWxseScsIGNoYW5nZXNldCkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2FmZUZpbmFsbHkgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNldHMuZm9yRWFjaChjaGFuZ2VzZXQgPT4gc2FmZUNhbGwoY2hhbmdlc2V0LmdldE9wdGlvbnMoKSwgJ2ZpbmFsbHknLCBjaGFuZ2VzZXQpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBmYWxsYmFjazogUmVxdWVzdE9wdGlvbnMgPSB0aGlzLiNnZXRTZW5kT3B0aW9ucyhiYXRjaCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGNvbnN0IGJhY2t1cDogUmVxdWVzdE9wdGlvbnMgPSBleHRlbmQoe30sIGZhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgbGV0IGRlbGF5ZWREb25lID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGRlbGF5ZWRGYWlsID0gZmFsc2U7XHJcbiAgICAgICAgZmFsbGJhY2suZG9uZSA9ICgpID0+IGRlbGF5ZWREb25lID0gdHJ1ZTtcclxuICAgICAgICBmYWxsYmFjay5mYWlsID0gKCkgPT4gZGVsYXllZEZhaWwgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFJlcXVlc3QoZmFsbGJhY2spO1xyXG5cclxuICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWxheWVkRmFpbClcclxuICAgICAgICAgICAgICAgIHNhZmVDYWxsKGJhY2t1cCwgJ2ZhaWwnLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHNhZmVFcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG5cclxuICAgICAgICBpZiAoIXBheWxvYWQgfHwgIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhZmVQYXlsb2FkID0gUmVzcG9uc2VQYXJzZXIuU2FmZVBhcnNlKHBheWxvYWQpO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXllZEZhaWwpXHJcbiAgICAgICAgICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdmYWlsJywgcmVzcG9uc2UsIHNhZmVQYXlsb2FkLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICBzYWZlRXJyb3Ioc2FmZVBheWxvYWQsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IFJlc3BvbnNlUGFyc2VyLlBhcnNlKHBheWxvYWQpO1xyXG5cclxuICAgICAgICBpZiAoIWlzQXJyYXkocGFyc2VkKSkge1xyXG4gICAgICAgICAgICBjaGFuZ2VzZXRzLmZvckVhY2goY2hhbmdlc2V0ID0+IHRoaXMuI3Byb2Nlc3NSZXNwb25zZVBheWxvYWQoY2hhbmdlc2V0LCBwYXlsb2FkKSk7XHJcbiAgICAgICAgICAgIGlmIChkZWxheWVkRG9uZSlcclxuICAgICAgICAgICAgICAgIHNhZmVDYWxsKGJhY2t1cCwgJ2RvbmUnLCByZXNwb25zZSwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIHNhZmVGaW5hbGx5KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2hhbmdlc2V0UGF5bG9hZHMgPSBwYXJzZWQgYXMgUmVzcG9uc2VQYXJzZXJQYXlsb2FkW107XHJcbiAgICAgICAgY2hhbmdlc2V0cy5mb3JFYWNoKChjaGFuZ2VzZXQsIGluZGV4KSA9PiB0aGlzLiNwcm9jZXNzUmVzcG9uc2VQYXlsb2FkKGNoYW5nZXNldCwgY2hhbmdlc2V0UGF5bG9hZHNbaW5kZXhdKSk7XHJcbiAgICAgICAgaWYgKGRlbGF5ZWREb25lKVxyXG4gICAgICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdkb25lJywgcmVzcG9uc2UsIGNoYW5nZXNldFBheWxvYWRzKTtcclxuICAgICAgICBzYWZlRmluYWxseSgpO1xyXG4gICAgICAgIHJldHVybiBjaGFuZ2VzZXRQYXlsb2FkcztcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpYnJhcnkgZW50cnkgcG9pbnQgY2xhc3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2hhcmVQb2ludEJhdGNoIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZXh0cmFjdCBkYXRhIGZyb20gdGhlIGB3aW5kb3dgIHByb3BlcnRpZXMgYF9zcFBhZ2VDb250ZXh0SW5mb2AgYW5kIGBHZXRSZXF1ZXN0RGlnZXN0YC5cclxuICAgICAqIEByZXR1cm5zIElmIHBvc3NpYmxlIGl0IHJldHVybnMgYSBgU2hhcmVQb2ludE9wdGlvbnNgIG9iamVjdCBvdGhlcndpc2Ugbm90aGluZy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIEdldFNoYXJlUG9pbnRPcHRpb25zKCk6IFNoYXJlUG9pbnRPcHRpb25zIHwgdW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgY29uc3Qgd2luOiBhbnkgPSB3aW5kb3c7XHJcbiAgICAgICAgY29uc3QgY29udGV4dDogYW55ID0gd2luLl9zcFBhZ2VDb250ZXh0SW5mbztcclxuICAgICAgICBjb25zdCBnZXREaWdlc3Q6IGFueSA9IHdpbi5HZXRSZXF1ZXN0RGlnZXN0O1xyXG5cclxuICAgICAgICBpZiAoIWlzT2JqZWN0KGNvbnRleHQpIHx8IHR5cGVvZiBnZXREaWdlc3QgIT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHVybDogYW55ID0gY29udGV4dC53ZWJBYnNvbHV0ZVVybDtcclxuICAgICAgICBsZXQgZGlnZXN0OiBhbnk7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGRpZ2VzdCA9IGdldERpZ2VzdCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNTdHJpbmcodXJsKSlcclxuICAgICAgICAgICAgdXJsID0gJyc7XHJcblxyXG4gICAgICAgIGlmICghaXNTdHJpbmcoZGlnZXN0KSlcclxuICAgICAgICAgICAgZGlnZXN0ID0gJyc7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHVybCwgZGlnZXN0IH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNvcHRpb25zOiBTaGFyZVBvaW50T3B0aW9ucztcclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAjam9iczogQmF0Y2hKb2JbXTtcclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAjam9iOiBCYXRjaEpvYiB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBTaGFyZVBvaW50T3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMuI2pvYnMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNhcHBlbmROZXdKb2Iob3B0aW9ucz86IEJhdGNoSm9iT3B0aW9ucyk6IEJhdGNoSm9iIHtcclxuXHJcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2s6IEJhdGNoSm9iT3B0aW9ucyA9IGV4dGVuZCh7fSwgRmFsbGJhY2tCYXRjaEpvYk9wdGlvbnMsIHRoaXMuI29wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICB0aGlzLiNqb2IgPSBuZXcgQmF0Y2hKb2IoZmFsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuI2pvYnMucHVzaCh0aGlzLiNqb2IpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy4jam9iO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAjZ2V0QWN0aXZlSm9iKCk6IEJhdGNoSm9iIHtcclxuICAgICAgICBpZiAoIXRoaXMuI2pvYilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuI2FwcGVuZE5ld0pvYigpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNqb2I7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmQgYSBjaGFuZ2VzZXQgdG8gdGhlIGJhdGNoIHF1ZXVlLlxyXG4gICAgICogQHBhcmFtIGNoYW5nZXNldCBPYmplY3QgaW5zdGFuY2Ugb2YgYENoYW5nZXNldGAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGNoYW5nZXNldCB3YXMgYWRkZWQgb3RoZXJ3aXNlIGBmYWxzZWAuXHJcbiAgICAgKi9cclxuICAgIGFkZENoYW5nZXNldChjaGFuZ2VzZXQ6IENoYW5nZXNldCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBqb2IgPSB0aGlzLiNnZXRBY3RpdmVKb2IoKTtcclxuICAgICAgICBpZiAoam9iLmlzQ2hhbmdlc2V0c0Z1bGwoKSlcclxuICAgICAgICAgICAgam9iID0gdGhpcy4jYXBwZW5kTmV3Sm9iKCk7XHJcbiAgICAgICAgcmV0dXJuIGpvYi5hZGRDaGFuZ2VzZXQoY2hhbmdlc2V0KSA+IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJvY2VzcyB0aGUgYmF0Y2ggcXVldWUuIFN1cHBvcnRzIGBhd2FpdGAgYnV0IHRoZSByZXN1bHRzIGlzIGFsbCB0aGUgcmV0dXJuZWQgZGF0YSBmb3IgZWFjaCBjaGFuZ2VzZXQuXHJcbiAgICAgKiBcclxuICAgICAqIFlvdSBjYW4gYXNzaWduIHRoZSBgZG9uZWAgYW5kIGBmYWlsYCB0byB0aGUgb3B0aW9uYWwgYXJndW1lbnQgYG9wdGlvbnNgIGFuZCB0aGV5IHdpbGwgYmUgY2FsbGVkIGJhc2VkIG9uIGVzdGltYXRpb24gZ2l2ZW4gdGhlIHJlc3VsdHMgb2YgdGhlIHJlcXVlc3QuXHJcbiAgICAgKiBTaW5jZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSBqb2JzIGludm9sdmVkLCBlYWNoIGpvYiB3aWxsIHBvdGVudGlhbGx5IHN1Y2NlZWQgb3IgZmFpbCwgZGVwZW5kaW5nIG9uIHRoZSBjaGFuZ2VzZXRzIHN1Ym1pdHRlZCB0byB0aGUgc2VydmVyLlxyXG4gICAgICogWW91J2xsIG5lZWQgdG8gaW5zcGVjdCBlYWNoIGNoYW5nZXNldCByZXN1bHQgYW5kIHNlZSBpZiBpdCBzdWNjZWVkZWQgb3IgZmFpbGVkLCBpZiB0aGUgYFNoYXJlUG9pbnRCYXRjaFJlc3BvbnNlYCBvYmplY3QgaXMgcHJlc2VudCBjaGVjayB0aGUgYG9rYCBwcm9wZXJ0eSBmb3IgdGhlIGh0dHAgc3RhdHVzLlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgYFJlcXVlc3RPcHRpb25zYCBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJucyBgUHJvbWlzZWAgdGhhdCByZXR1cm5zIGFuIGFycmF5IG9mIGBTaGFyZVBvaW50QmF0Y2hSZXNwb25zZWAgYnV0IGluIGNhc2Ugb2YgZXJyb3JzIHRoZSBhcnJheSBpdGVtIHdpbGwgYmUgYHVuZGVmaW5lZGAgb3IgYSBgc3RyaW5nYCB3aGVuZXZlciBhdmFpbGFibGUuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNlbmQob3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxTaGFyZVBvaW50QmF0Y2hSZXNwb25zZT4ge1xyXG5cclxuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICBjb25zdCBmYWxsYmFjazogUmVxdWVzdE9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICBjb25zdCBiYWNrdXA6IFJlcXVlc3RPcHRpb25zID0gZXh0ZW5kKHt9LCBmYWxsYmFjayk7XHJcblxyXG4gICAgICAgIGxldCBkZWxheWVkRG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBkZWxheWVkRmFpbCA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBkZWxheWVkQXJnczogYW55W10gPSBbXTtcclxuICAgICAgICBmYWxsYmFjay5kb25lID0gKC4uLmFyZ3M6IGFueVtdKSA9PiAoZGVsYXllZERvbmUgPSB0cnVlLCBkZWxheWVkQXJncyA9IGFyZ3MpO1xyXG4gICAgICAgIGZhbGxiYWNrLmZhaWwgPSAoLi4uYXJnczogYW55W10pID0+IChkZWxheWVkRmFpbCA9IHRydWUsIGRlbGF5ZWRBcmdzID0gYXJncyk7XHJcbiAgICAgICAgZmFsbGJhY2suZmluYWxseSA9ICgpID0+IHt9O1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHRzOiBTaGFyZVBvaW50QmF0Y2hKb2JSZXNwb25zZVtdID0gW107XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSAwO1xyXG4gICAgICAgIGxldCBmYWlsID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBqb2Igb2YgdGhpcy4jam9icykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgam9iLnNlbmQodGhpcywgZmFsbGJhY2spO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkocmVzdWx0KSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVSZXN1bHQ6IGFueSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgKz0gc2FmZVJlc3VsdC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goLi4uc2FmZVJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IGpvYi5nZXRDaGFuZ2VzZXRzKCkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgZmFpbCArPSBjb3VudDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMClcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFsbCBmYWlscyB3ZSBvdmVycmlkZSB0aGUgZG9uZSBpbnRvIGEgZmFpbFxyXG4gICAgICAgIGlmIChkZWxheWVkRG9uZSAmJiAhZGVsYXllZEZhaWwgJiYgIXN1Y2Nlc3MgJiYgZmFpbCkge1xyXG4gICAgICAgICAgICBkZWxheWVkRG9uZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkZWxheWVkRmFpbCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vIGRvbmUgb3IgZmFpbCBpdCBtZWFucyB0aGUgcXVldWUgd2FzIGVtcHR5XHJcbiAgICAgICAgaWYgKCFkZWxheWVkRG9uZSAmJiAhZGVsYXllZEZhaWwpIHtcclxuICAgICAgICAgICAgZGVsYXllZERvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBkZWxheWVkQXJnc1swXSA9IGJhY2t1cDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkZWxheWVkRG9uZSkge1xyXG5cclxuICAgICAgICAgICAgc2FmZUNhbGwoYmFja3VwLCAnZG9uZScsIGRlbGF5ZWRBcmdzWzFdLCByZXN1bHRzKTtcclxuICAgICAgICAgICAgc2FmZUNhbGwoYmFja3VwLCAnZmluYWxseScsIGRlbGF5ZWRBcmdzWzFdLCByZXN1bHRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgb2s6IHRydWUsIHJlc3VsdHMgfSBhcyBTaGFyZVBvaW50QmF0Y2hSZXNwb25zZVN1Y2Nlc3M7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdmYWlsJywgZGVsYXllZEFyZ3NbMV0sIGRlbGF5ZWRBcmdzWzJdLCBkZWxheWVkQXJnc1szXSwgZGVsYXllZEFyZ3NbNF0pO1xyXG4gICAgICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdmaW5hbGx5JywgZGVsYXllZEFyZ3NbMV0sIGRlbGF5ZWRBcmdzWzJdLCBkZWxheWVkQXJnc1szXSwgZGVsYXllZEFyZ3NbNF0pO1xyXG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogdHJ1ZSwgb2s6IGZhbHNlLCByZXN1bHRzOiBkZWxheWVkQXJnc1syXSB9IGFzIFNoYXJlUG9pbnRCYXRjaFJlc3BvbnNlRXJyb3I7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IENhbGxiYWNrUHJvcHMsIFJlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgY29uc3QgaXNBcnJheSA9IChvYmplY3Q6IGFueSkgPT4gQXJyYXkuaXNBcnJheShvYmplY3QpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzT2JqZWN0ID0gKG9iamVjdDogYW55LCBwbGFpbk9iamVjdDogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiA9PiBvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgKCFwbGFpbk9iamVjdCB8fCAhaXNBcnJheShvYmplY3QpKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpc1N0cmluZyA9IChvYmplY3Q6IGFueSkgPT4gdHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZyc7XHJcblxyXG5leHBvcnQgY29uc3QgZXh0ZW5kID0gPFQ+KHRhcmdldDogVCwgLi4uc291cmNlczogVFtdKTogVCA9PiBPYmplY3QuYXNzaWduKHRhcmdldCBhcyBPYmplY3QsIC4uLnNvdXJjZXMpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRvUGFyYW1zID0gKG9iamVjdDogYW55KTogc3RyaW5nID0+IHtcclxuXHJcbiAgICBpZiAob2JqZWN0ID09IG51bGwpXHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG5cclxuICAgIGNvbnN0IGFycmF5UHJlZml4ID0gJ2EnO1xyXG4gICAgY29uc3QgcGFyYW1QcmVmaXggPSAnPyc7XHJcbiAgICBjb25zdCBwYXJhbURlbGltID0gJyYnO1xyXG5cclxuICAgIGNvbnN0IHNlcmlhbGl6ZSA9IChvOiBvYmplY3QsIG4/OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheShvKSkge1xyXG5cclxuICAgICAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIHJldHVybiBvLm1hcCgodiwgaykgPT4gYCR7biB8fCBhcnJheVByZWZpeH1bJHtrfV09JHtzZXJpYWxpemUodil9YCkuam9pbihwYXJhbURlbGltKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvKSkge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcDogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBvKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFvLmhhc093blByb3BlcnR5KGspKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBvW2tdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5wdXNoKHNlcmlhbGl6ZShvW2tdLCBrKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHAucHVzaChgJHtrfT0ke3NlcmlhbGl6ZShvW2tdKX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwLmpvaW4ocGFyYW1EZWxpbSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcCA9IGAke299YDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChwKTtcclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHA7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBwYXJhbXMgPSBzZXJpYWxpemUob2JqZWN0KTtcclxuXHJcbiAgICBpZiAoIXBhcmFtcy5sZW5ndGgpXHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG5cclxuICAgIHJldHVybiBgJHtwYXJhbVByZWZpeH0ke3BhcmFtc31gO1xyXG5cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVHVUlEID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYzogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDA7XHJcbiAgICAgICAgcmV0dXJuIChjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpKS50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzYWZlQ2FsbCA9IChvcHRpb25zOiBSZXF1ZXN0T3B0aW9ucywgcHJvcDogQ2FsbGJhY2tQcm9wcywgLi4uYXJnczogYW55KSA9PiB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbcHJvcF07XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgIHZhbHVlLmNhbGwobnVsbCwgb3B0aW9ucywgLi4uYXJncyk7XHJcbn07XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcclxuICAgIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBDaGFuZ2VzZXQsIFNoYXJlUG9pbnRCYXRjaCB9IGZyb20gJy4vc2hhcmVwb2ludCc7XHJcblxyXG4oKHdpbmRvdzogYW55LCBTaGFyZVBvaW50QmF0Y2g6IGFueSkgPT4ge1xyXG4gICAgU2hhcmVQb2ludEJhdGNoLkNoYW5nZXNldCA9IENoYW5nZXNldDtcclxuICAgIHdpbmRvdy5TaGFyZVBvaW50QmF0Y2ggPSBTaGFyZVBvaW50QmF0Y2g7XHJcbn0pKHdpbmRvdywgU2hhcmVQb2ludEJhdGNoKTtcclxuIl0sIm5hbWVzIjpbIlJlcXVlc3QiLCJvcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZXNwb25zZSIsInNhZmVDYWxsIiwiZmV0Y2giLCJ1cmwiLCJvayIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJleCIsIlJlcXVlc3RKc29uIiwianNvbiIsIkZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zIiwibWV0aG9kIiwiRmFsbGJhY2tSZXF1ZXN0T3B0aW9ucyIsImhlYWRlcnMiLCJSZXNwb25zZVBhcnNlciIsInN0YXRpYyIsInJhdyIsImlzU3RyaW5nIiwiSlNPTiIsInBhcnNlIiwicGFyc2VMZXZlbHMiLCJMZXZlbCIsImxpbmVzIiwic3BsaXQiLCJMaW5lU2VwYXJhdG9yIiwicmVzdWx0cyIsInRlbXAiLCJjd28iLCJsZXZlbCIsIlVOS05PV04iLCJsaW5lIiwiQmF0Y2hSZXNwb25zZTEiLCJ0ZXN0IiwiZGF0YSIsInRoaXMiLCJQYXJzZSIsInB1c2giLCJFT0YiLCJCYXRjaFJlc3BvbnNlMiIsImh0dHAiLCJIRUFERVJTIiwiUkVRVUVTVF9CT0RZIiwiQmF0Y2hSZXNwb25zZTMiLCJSRVFVRVNUIiwibWF0Y2giLCJwYXJzZUludCIsIlJFUVVFU1RfSEVBREVSUyIsInBhcnRzIiwiSGVhZGVyS1ZTZXBhcmF0b3IiLCJyYXdIZWFkZXIiLCJzaGlmdCIsImtleSIsInRyaW0iLCJqb2luIiwiSGVhZGVyS1ZTZXBhcmF0b3JDaGFyIiwibGVuZ3RoIiwic2FmZVBhcnNlIiwiU2FmZVBhcnNlIiwiZG9tIiwiZG9jIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZXJyb3IiLCJxdWVyeVNlbGVjdG9yIiwiY29kZSIsIm1lc3NhZ2UiLCJpbm5lckhUTUwiLCJDaGFuZ2VzZXQiLCJjb25zdHJ1Y3RvciIsImV4dGVuZCIsImdldE9wdGlvbnMiLCJnZXRNZXRob2QiLCJnZXRVcmwiLCJ0b1BhcmFtcyIsInBhcmFtcyIsImdldEhlYWRlcnMiLCJpc09iamVjdCIsImhlYWRlciIsInZhbHVlIiwiZ2V0UGF5bG9hZCIsImJvZHkiLCJnZXRSZXNwb25zZVBheWxvYWQiLCJzZXRSZXNwb25zZVBheWxvYWQiLCJwYXlsb2FkIiwiQmF0Y2hKb2IiLCJnZXRDaGFuZ2VzZXRzIiwiaXNDaGFuZ2VzZXRzRnVsbCIsIk51bU1heENoYW5nZXNldHMiLCJhZGRDaGFuZ2VzZXQiLCJjaGFuZ2VzZXQiLCJndWlkIiwiYm91bmRhcnkiLCJjcmVhdGVHVUlEIiwiY2hhbmdlc2V0UGF5bG9hZCIsInN0cmluZ2lmeSIsInNlbmQiLCJiYXRjaCIsImNoYW5nZXNldHMiLCJmb3JFYWNoIiwic2FmZUVycm9yIiwiYXJncyIsInNhZmVGaW5hbGx5IiwiZmFsbGJhY2siLCJiYWNrdXAiLCJkZWxheWVkRG9uZSIsImRlbGF5ZWRGYWlsIiwiZG9uZSIsImZhaWwiLCJ0ZXh0Iiwic2FmZVBheWxvYWQiLCJwYXJzZWQiLCJpc0FycmF5IiwiY2hhbmdlc2V0UGF5bG9hZHMiLCJpbmRleCIsImJhdGNoT3B0aW9ucyIsImRpZ2VzdCIsIndpbiIsIndpbmRvdyIsImNvbnRleHQiLCJfc3BQYWdlQ29udGV4dEluZm8iLCJnZXREaWdlc3QiLCJHZXRSZXF1ZXN0RGlnZXN0Iiwid2ViQWJzb2x1dGVVcmwiLCJqb2IiLCJkZWxheWVkQXJncyIsImZpbmFsbHkiLCJzdWNjZXNzIiwicmVzdWx0Iiwic2FmZVJlc3VsdCIsImNvdW50Iiwib2JqZWN0IiwiQXJyYXkiLCJwbGFpbk9iamVjdCIsInRhcmdldCIsInNvdXJjZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJzZXJpYWxpemUiLCJvIiwibiIsIm1hcCIsInYiLCJrIiwicCIsImhhc093blByb3BlcnR5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsImMiLCJyIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwicHJvcCIsImNhbGwiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInByb3RvdHlwZSIsIl9fZXh0ZW5kcyIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwiY3JlYXRlIiwiX19hc3NpZ24iLCJ0IiwicyIsImkiLCJhcmd1bWVudHMiLCJhcHBseSIsIl9fcmVzdCIsImUiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fcGFyYW0iLCJwYXJhbUluZGV4IiwiZGVjb3JhdG9yIiwiX19tZXRhZGF0YSIsIm1ldGFkYXRhS2V5IiwibWV0YWRhdGFWYWx1ZSIsIm1ldGFkYXRhIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsInRoZW4iLCJfX2dlbmVyYXRvciIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwib3AiLCJwb3AiLCJfX2NyZWF0ZUJpbmRpbmciLCJtIiwiazIiLCJ1bmRlZmluZWQiLCJfX2VzTW9kdWxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiX19leHBvcnRTdGFyIiwiX192YWx1ZXMiLCJfX3JlYWQiLCJhciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImEiLCJqIiwiamwiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImwiLCJzbGljZSIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsInEiLCJyZXN1bWUiLCJmdWxmaWxsIiwic2V0dGxlIiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsIl9faW1wb3J0U3RhciIsIm1vZCIsIl9faW1wb3J0RGVmYXVsdCIsImRlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJoYXMiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0Iiwic2V0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEluIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwib2JqIiwidG9TdHJpbmdUYWciLCJTaGFyZVBvaW50QmF0Y2giXSwic291cmNlUm9vdCI6IiJ9