!function(){"use strict";var t={"./request.ts":
/*!********************!*\
  !*** ./request.ts ***!
  \********************/function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.RequestJson=e.Request=void 0;var r=n(/*! tslib */"../node_modules/tslib/tslib.es6.js"),o=n(/*! ./utils */"./utils.ts");e.Request=function(t){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,new Promise((function(e){return r.__awaiter(void 0,void 0,void 0,(function(){var n,a;return r.__generator(this,(function(r){switch(r.label){case 0:(0,o.safeCall)(t,"before",n),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(t.url,t)];case 2:return(n=r.sent())&&n.ok?(0,o.safeCall)(t,"done",n):(0,o.safeCall)(t,"fail",n,null==n?void 0:n.status,null==n?void 0:n.statusText),[3,4];case 3:return a=r.sent(),(0,o.safeCall)(t,"fail",n,a),[3,4];case 4:return(0,o.safeCall)(t,"finally",n),e(n),[2]}}))}))}))]}))}))};e.RequestJson=function(t){return r.__awaiter(void 0,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,(0,e.Request)(t)];case 1:if(!(n=r.sent()))return[2];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.json()];case 3:return[2,r.sent()];case 4:return r.sent(),[3,5];case 5:return[2]}}))}))}},"./sharepoint.ts":
/*!***********************!*\
  !*** ./sharepoint.ts ***!
  \***********************/function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SharePointBatch=e.BatchJob=e.Changeset=e.ResponseParser=void 0;var r=n(/*! tslib */"../node_modules/tslib/tslib.es6.js"),o=n(/*! ./utils */"./utils.ts"),a=n(/*! ./request */"./request.ts"),i={method:"GET",url:""},u={method:"POST",url:"",headers:{}},s=function(){function t(){}return t.Parse=function(e){var n,a,i;if((0,o.isString)(e)){try{return JSON.parse(e)}catch(g){}var u=t.Level,s=e.split(t.LineSeparator),c=[],l=null,f=null,p=u.UNKNOWN;try{for(var h=r.__values(s),d=h.next();!d.done;d=h.next()){var y=d.value;if(t.BatchResponse1.test(y)){l&&(l.data=this.Parse(l.data),c.push(l),l=null),p=u.EOF;break}if(t.BatchResponse2.test(y))l&&(l.data=this.Parse(l.data),c.push(l)),f=l={headers:{},http:{status:0,statusText:""},data:null},p=u.HEADERS;else if(p===u.REQUEST_BODY)f&&(null==f.data&&(f.data=""),f.data+=y);else if(t.BatchResponse3.test(y)){if(p===u.REQUEST&&f){var _=y.match(t.BatchResponse3);f.http.status=_&&parseInt(_[1],10)||0,f.http.statusText=_&&_[2]||"",p=u.REQUEST_HEADERS}}else if(/^.+:\s*.+$/i.test(y)){if(p===u.HEADERS||p===u.REQUEST_HEADERS){var v=y.split(t.HeaderKVSeparator);if(v){var b=null===(i=v.shift())||void 0===i?void 0:i.trim();b&&f&&(f.headers[b]=v.join(t.HeaderKVSeparatorChar).trim())}}}else if(/^[\s\r\n]*$/i.test(y))switch(p){case u.HEADERS:p=u.REQUEST;break;case u.REQUEST:p=u.REQUEST_HEADERS;break;case u.REQUEST_HEADERS:p=u.REQUEST_BODY}}}catch(w){n={error:w}}finally{try{d&&!d.done&&(a=h["return"])&&a.call(h)}finally{if(n)throw n.error}}return c}},t.SafeParse=function(t){if(!(0,o.isString)(t))return t;try{return JSON.parse(t)}catch(c){}var e,n;try{e=new DOMParser}catch(c){}if(!e)return t;try{n=e.parseFromString(t,"text/xml")}catch(c){}if(!n)return t;var r=n.querySelector("error");if(!r)return n;var a=r.querySelector("code"),i=r.querySelector("message"),u=a?a.innerHTML:0,s=i?i.innerHTML:"";return"".concat(u,": ").concat(s)},t.Level={UNKNOWN:0,HEADERS:1,REQUEST:2,REQUEST_HEADERS:3,REQUEST_BODY:4,EOF:5},t.LineSeparator=/\r\n/,t.HeaderKVSeparator=/:/,t.HeaderKVSeparatorChar=":",t.BatchResponse1=/^--batchresponse_.+--$/i,t.BatchResponse2=/^--batchresponse_.+$/i,t.BatchResponse3=/^HTTP\/1\.1\s+(\d+)\s+(.+)$/i,t}();e.ResponseParser=s;var c=function(){function t(t){this._options=(0,o.extend)({},i,t)}return t.prototype.getMethod=function(){return this._options.method},t.prototype.getUrl=function(){return"".concat(this._options.url).concat((0,o.toParams)(this._options.params))},t.prototype.getHeaders=function(){var t=this._options.headers,e=[];if((0,o.isObject)(t))for(var n in t)e.push({key:n,value:t[n]});return e},t.prototype.getPayload=function(){return this._options.body},t.prototype.getResponsePayload=function(){return this._responsePayload},t.prototype.processResponsePayload=function(t){this._responsePayload=t;var e=(0,o.isObject)(t)?t:null,n=e?e.http.status/100|0:0;e&&(e.changeset=this),2!==n?(0,o.safeCall)(this._options,"fail",this,t):(0,o.safeCall)(this._options,"done",this,t)},t}();e.Changeset=c;var l=function(){function t(t){this._options=(0,o.extend)({},i,t),this._changesets=[]}return t.prototype.addChangeset=function(t){return t instanceof c?("/"===t._options.url[0]&&(t._options.url="".concat(this._options.url).concat(t._options.url)),this._changesets.push(t)-1):-1},t.prototype.getPayload=function(t){var e,n,a,i,u,s,c=[];try{for(var l=r.__values(this._changesets),f=l.next();!f.done;f=l.next()){var p=f.value,h=p.getMethod(),d="GET"===h?null:"changeset_".concat((0,o.createGUID)());if(c.push("--batch_".concat(t)),d?c.push('Content-Type: multipart/mixed; boundary="'.concat(d,'"')):c.push("Content-Type: application/http"),c.push("Content-Transfer-Encoding: binary"),c.push(""),"GET"===h){c.push("".concat(h," ").concat(p.getUrl()," HTTP/1.1")),c.push("Accept: application/json;odata=verbose");try{for(var y=(a=void 0,r.__values(p.getHeaders())),_=y.next();!_.done;_=y.next()){var v=_.value;c.push("".concat(v.key,": ").concat(v.value))}}catch(x){a={error:x}}finally{try{_&&!_.done&&(i=y["return"])&&i.call(y)}finally{if(a)throw a.error}}c.push("")}else{c.push("--".concat(d)),c.push("Content-Type: application/http"),c.push("Content-Transfer-Encoding: binary"),c.push(""),c.push("".concat(h," ").concat(p.getUrl()," HTTP/1.1")),c.push("Accept: application/json;odata=verbose"),c.push("Content-Type: application/json;odata=verbose");try{for(var b=(u=void 0,r.__values(p.getHeaders())),g=b.next();!g.done;g=b.next()){v=g.value;c.push("".concat(v.key,": ").concat(v.value))}}catch(S){u={error:S}}finally{try{g&&!g.done&&(s=b["return"])&&s.call(b)}finally{if(u)throw u.error}}c.push("");var w=p.getPayload();w&&(c.push(JSON.stringify(w)),c.push(""))}d&&c.push("--".concat(d,"--"))}}catch(m){e={error:m}}finally{try{f&&!f.done&&(n=l["return"])&&n.call(l)}finally{if(e)throw e.error}}return c.join("\r\n")},t}();e.BatchJob=l;var f=function(){function t(t){this._options=t,this._jobs=[]}return t.GetSharePointOptions=function(){var t=window,e=t._spPageContextInfo,n=t.GetRequestDigest;if((0,o.isObject)(e)&&"function"==typeof n){var r,a=e.webAbsoluteUrl;try{r=n()}catch(i){}return(0,o.isString)(a)||(a=""),(0,o.isString)(r)||(r=""),{url:a,digest:r}}},t.prototype.appendNewJob=function(t){var e=(0,o.extend)({},i,this._options,t);return this._job=new l(e),this._jobs.push(this._job),this._job},t.prototype.getActiveJob=function(){return this._job?this._job:this.appendNewJob()},t.prototype.addChangeset=function(t){return this.getActiveJob().addChangeset(t)>-1},t.prototype.getPayload=function(t){return this._jobs.map((function(e){return e.getPayload(t)})).join("\r\n")},t.prototype.getSendOptions=function(t){var e=(0,o.extend)({},u,this._options,t),n=(0,o.createGUID)();return e.url="".concat(this._options.url,"/_api/$batch"),e.headers&&(0,o.extend)(e.headers,{"Content-Type":'multipart/mixed; boundary="batch_'.concat(n,'"'),"X-RequestDigest":this._options.digest}),e.body="".concat(this.getPayload(n),"\r\n--batch_").concat(n,"--"),e},t.prototype.send=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,u,c,l,f,p,h,d,y,_;return r.__generator(this,(function(v){switch(v.label){case 0:return(e=this._jobs.reduce((function(t,e){return t.push.apply(t,r.__spreadArray([],r.__read(e._changesets),!1)),t}),[])).forEach((function(t){return(0,o.safeCall)(t._options,"before",t)})),n=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.forEach((function(e){return o.safeCall.apply(void 0,r.__spreadArray([e._options,"fail",e],r.__read(t),!1))})),e.forEach((function(t){return(0,o.safeCall)(t._options,"finally",t)}))},i=function(){e.forEach((function(t){return(0,o.safeCall)(t._options,"finally",t)}))},u=this.getSendOptions(t),c=(0,o.extend)({},u),l=!1,f=!1,u.done=function(){return l=!0},u.fail=function(){return f=!0},[4,(0,a.Request)(u)];case 1:return(p=v.sent())?[4,p.text()]:(f&&(0,o.safeCall)(c,"fail",p),n(),[2]);case 2:return(h=v.sent())&&p.ok?(y=s.Parse(h),(0,o.isArray)(y)?(_=y,e.forEach((function(t,e){return t.processResponsePayload(_[e])})),l&&(0,o.safeCall)(c,"done",p,_),i(),[2,_]):(e.forEach((function(t){return t.processResponsePayload(h)})),l&&(0,o.safeCall)(c,"done",p,h),i(),[2,h])):(d=s.SafeParse(h),f&&(0,o.safeCall)(c,"fail",p,d,p.status,p.statusText),n(d,p.status,p.statusText),[2])}}))}))},t}();e.SharePointBatch=f},"./utils.ts":
/*!******************!*\
  !*** ./utils.ts ***!
  \******************/function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.safeCall=e.createGUID=e.toParams=e.extend=e.isString=e.isObject=e.isArray=void 0;var r=n(/*! tslib */"../node_modules/tslib/tslib.es6.js");e.isArray=function(t){return Array.isArray(t)};e.isObject=function(t,n){return void 0===n&&(n=!1),t&&"object"==typeof t&&(!n||!(0,e.isArray)(t))};e.isString=function(t){return"string"==typeof t};e.extend=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Object.assign.apply(Object,r.__spreadArray([t],r.__read(e),!1))};e.toParams=function(t){if(null==t)return"";var n=function(t,r){if((0,e.isArray)(t))return t.map((function(t,e){return"".concat(r||"a","[").concat(e,"]=").concat(n(t))})).join("&");if((0,e.isObject)(t)){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];Array.isArray(i)?o.push(n(t[a],a)):o.push("".concat(a,"=").concat(n(t[a])))}return o.join("&")}var u="".concat(t);try{return encodeURIComponent(u)}catch(s){}return u},r=n(t);return r.length?"".concat("?").concat(r):""};e.createGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))};e.safeCall=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=t[e];"function"==typeof a&&a.call.apply(a,r.__spreadArray([null,t],r.__read(n),!1))}},"../node_modules/tslib/tslib.es6.js":
/*!******************************************!*\
  !*** ../node_modules/tslib/tslib.es6.js ***!
  \******************************************/function(t,e,n){n.r(e),n.d(e,{__assign:function(){return a},__asyncDelegator:function(){return x},__asyncGenerator:function(){return w},__asyncValues:function(){return S},__await:function(){return g},__awaiter:function(){return l},__classPrivateFieldGet:function(){return O},__classPrivateFieldIn:function(){return R},__classPrivateFieldSet:function(){return T},__createBinding:function(){return p},__decorate:function(){return u},__exportStar:function(){return h},__extends:function(){return o},__generator:function(){return f},__importDefault:function(){return E},__importStar:function(){return j},__makeTemplateObject:function(){return m},__metadata:function(){return c},__param:function(){return s},__read:function(){return y},__rest:function(){return i},__spread:function(){return _},__spreadArray:function(){return b},__spreadArrays:function(){return v},__values:function(){return d}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function u(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i}function s(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{s(r.next(t))}catch(e){a(e)}}function u(t){try{s(r["throw"](t))}catch(e){a(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,u)}s((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),"throw":u(1),"return":u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r["return"]:a[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(u){a=[6,u],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var p=Object.create?function(t,e,n,r){r===undefined&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===undefined&&(r=n),t[r]=e[n]};function h(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||p(e,t,n)}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=a["return"])&&n.call(a)}finally{if(o)throw o.error}}return i}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r}function b(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){a.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=o[t](e)).value instanceof g?Promise.resolve(n.value.v).then(s,c):l(a[0][2],n)}catch(r){l(a[0][3],r)}var n}function s(t){u("next",t)}function c(t){u("throw",t)}function l(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function x(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var P=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e};function j(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&p(e,t,n);return P(e,t),e}function E(t){return t&&t.__esModule?t:{"default":t}}function O(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function T(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n}function R(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}}},e={};function n(r){var o=e[r];if(o!==undefined)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};!function(){var t=r;
/*!******************!*\
  !*** ./index.ts ***!
  \******************/Object.defineProperty(t,"__esModule",{value:!0});var e=n(/*! ./sharepoint */"./sharepoint.ts");!function(t,n){n.Changeset=e.Changeset,n.BatchJob=e.BatchJob,t.SharePointBatch=n}(window,e.SharePointBatch)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUlDLEVBQVNMLEVBQXlCRSxHQUFZLENBR2pERSxRQUFTLElBT1YsT0FIQUUsRUFBb0JKLEdBQVVHLEVBQVFBLEVBQU9ELFFBQVNILEdBRy9DSSxFQUFPRCxRQ3BCZkgsRUFBb0JqSCxFQUFJLFNBQVNvSCxFQUFTRyxHQUN6QyxJQUFJLElBQUloTyxLQUFPZ08sRUFDWE4sRUFBb0JoSSxFQUFFc0ksRUFBWWhPLEtBQVMwTixFQUFvQmhJLEVBQUVtSSxFQUFTN04sSUFDNUVzRixPQUFPK0MsZUFBZXdGLEVBQVM3TixFQUFLLENBQUU4SyxZQUFZLEVBQU1DLElBQUtpRCxFQUFXaE8sTUNKM0UwTixFQUFvQmhJLEVBQUksU0FBU3VJLEVBQUszSCxHQUFRLE9BQU9oQixPQUFPdUIsVUFBVWYsZUFBZVMsS0FBSzBILEVBQUszSCxJQ0MvRm9ILEVBQW9CeEgsRUFBSSxTQUFTMkgsR0FDWCxvQkFBWDFELFFBQTBCQSxPQUFPK0QsYUFDMUM1SSxPQUFPK0MsZUFBZXdGLEVBQVMxRCxPQUFPK0QsWUFBYSxDQUFFeE0sTUFBTyxXQUU3RDRELE9BQU8rQyxlQUFld0YsRUFBUyxhQUFjLENBQUVuTSxPQUFPLEs7Ozt1RUNMdkQsK0NBRUEsU0FBRXNCLEVBQWFpQyxHQUNYQSxFQUFnQjdDLFVBQVksRUFBQUEsVUFDNUI2QyxFQUFnQnJDLFNBQVcsRUFBQUEsU0FDM0JJLEVBQU9pQyxnQkFBa0JBLEVBSDdCLENBSUdqQyxPQUFRLEVBQUFpQyxpQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3JlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc2hhcmVwb2ludC50cyIsIndlYnBhY2s6Ly8vLi91dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdFJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5leHBvcnQgY29uc3QgUmVxdWVzdCA9IGFzeW5jIChvcHRpb25zOiBSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8UmVxdWVzdFJlc3BvbnNlPiA9PiB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2U6IFJlcXVlc3RSZXNwb25zZTtcclxuICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnYmVmb3JlJywgcmVzcG9uc2UpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKG9wdGlvbnMudXJsLCBvcHRpb25zIGFzIG5ldmVyKTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnZG9uZScsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNhZmVDYWxsKG9wdGlvbnMsICdmYWlsJywgcmVzcG9uc2UsIHJlc3BvbnNlPy5zdGF0dXMsIHJlc3BvbnNlPy5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICAgICAgc2FmZUNhbGwob3B0aW9ucywgJ2ZhaWwnLCByZXNwb25zZSwgZXgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2FmZUNhbGwob3B0aW9ucywgJ2ZpbmFsbHknLCByZXNwb25zZSk7XHJcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlcXVlc3RKc29uID0gYXN5bmMgKG9wdGlvbnM6IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxhbnkgfCB1bmRlZmluZWQ+ID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUmVxdWVzdChvcHRpb25zKTtcclxuICAgIGlmICghcmVzcG9uc2UpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSBjYXRjaCAoZXgpIHtcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHsgUmVxdWVzdE1ldGhvZHMsIFJlcXVlc3RPcHRpb25zLCBTaGFyZVBvaW50T3B0aW9ucywgQmF0Y2hKb2JPcHRpb25zLCBCYXRjaEpvYkhlYWRlciwgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2UsIFJlc3BvbnNlUGFyc2VyUGF5bG9hZCB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcsIGV4dGVuZCwgdG9QYXJhbXMsIGNyZWF0ZUdVSUQsIHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlcXVlc3RKc29uIH0gZnJvbSAnLi9yZXF1ZXN0JztcclxuXHJcbmNvbnN0IEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zOiBCYXRjaEpvYk9wdGlvbnMgPSB7XHJcbiAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgdXJsOiAnJyxcclxufTtcclxuXHJcbmNvbnN0IEZhbGxiYWNrUmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zID0ge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICB1cmw6ICcnLFxyXG4gICAgaGVhZGVyczoge30sXHJcbn07XHJcblxyXG4vKiogQGludGVybmFsICovXHJcbmV4cG9ydCBjbGFzcyBSZXNwb25zZVBhcnNlciB7XHJcblxyXG4gICAgc3RhdGljIExldmVsID0ge1xyXG4gICAgICAgIFVOS05PV046IDAsXHJcbiAgICAgICAgSEVBREVSUzogMSxcclxuICAgICAgICBSRVFVRVNUOiAyLFxyXG4gICAgICAgIFJFUVVFU1RfSEVBREVSUzogMyxcclxuICAgICAgICBSRVFVRVNUX0JPRFk6IDQsXHJcbiAgICAgICAgRU9GOiA1LFxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgTGluZVNlcGFyYXRvciA9IC9cXHJcXG4vO1xyXG4gICAgc3RhdGljIEhlYWRlcktWU2VwYXJhdG9yID0gLzovO1xyXG4gICAgc3RhdGljIEhlYWRlcktWU2VwYXJhdG9yQ2hhciA9ICc6JztcclxuICAgIHN0YXRpYyBCYXRjaFJlc3BvbnNlMSA9IC9eLS1iYXRjaHJlc3BvbnNlXy4rLS0kL2k7XHJcbiAgICBzdGF0aWMgQmF0Y2hSZXNwb25zZTIgPSAvXi0tYmF0Y2hyZXNwb25zZV8uKyQvaTtcclxuICAgIHN0YXRpYyBCYXRjaFJlc3BvbnNlMyA9IC9eSFRUUFxcLzFcXC4xXFxzKyhcXGQrKVxccysoLispJC9pO1xyXG5cclxuICAgIHN0YXRpYyBQYXJzZShyYXc6IHN0cmluZyk6IFJlc3BvbnNlUGFyc2VyUGF5bG9hZFtdIHwgYW55IHtcclxuXHJcbiAgICAgICAgaWYgKCFpc1N0cmluZyhyYXcpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJhdyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXg6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcGFyc2VMZXZlbHMgPSBSZXNwb25zZVBhcnNlci5MZXZlbDtcclxuICAgICAgICBjb25zdCBsaW5lcyA9IHJhdy5zcGxpdChSZXNwb25zZVBhcnNlci5MaW5lU2VwYXJhdG9yKTtcclxuICAgICAgICBjb25zdCByZXN1bHRzOiBSZXNwb25zZVBhcnNlclBheWxvYWRbXSA9IFtdO1xyXG5cclxuICAgICAgICBsZXQgdGVtcDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGN3bzogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGxldmVsID0gcGFyc2VMZXZlbHMuVU5LTk9XTjtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoUmVzcG9uc2VQYXJzZXIuQmF0Y2hSZXNwb25zZTEudGVzdChsaW5lKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5kYXRhID0gdGhpcy5QYXJzZSh0ZW1wLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXZlbCA9IHBhcnNlTGV2ZWxzLkVPRjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChSZXNwb25zZVBhcnNlci5CYXRjaFJlc3BvbnNlMi50ZXN0KGxpbmUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRlbXApIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wLmRhdGEgPSB0aGlzLlBhcnNlKHRlbXAuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRlbXAgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cDogeyBzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgY3dvID0gdGVtcDtcclxuICAgICAgICAgICAgICAgIGxldmVsID0gcGFyc2VMZXZlbHMuSEVBREVSUztcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09IHBhcnNlTGV2ZWxzLlJFUVVFU1RfQk9EWSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjd28pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN3by5kYXRhID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN3by5kYXRhID0gJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN3by5kYXRhICs9IGxpbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChSZXNwb25zZVBhcnNlci5CYXRjaFJlc3BvbnNlMy50ZXN0KGxpbmUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID09PSBwYXJzZUxldmVscy5SRVFVRVNUKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjd28pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGh0dHAgPSBsaW5lLm1hdGNoKFJlc3BvbnNlUGFyc2VyLkJhdGNoUmVzcG9uc2UzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3dvLmh0dHAuc3RhdHVzID0gaHR0cCAmJiBwYXJzZUludChodHRwWzFdLCAxMCkgfHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3dvLmh0dHAuc3RhdHVzVGV4dCA9IGh0dHAgJiYgaHR0cFsyXSB8fCAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5SRVFVRVNUX0hFQURFUlM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eLis6XFxzKi4rJC9pLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IHBhcnNlTGV2ZWxzLkhFQURFUlMgfHwgbGV2ZWwgPT09IHBhcnNlTGV2ZWxzLlJFUVVFU1RfSEVBREVSUykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGxpbmUuc3BsaXQoUmVzcG9uc2VQYXJzZXIuSGVhZGVyS1ZTZXBhcmF0b3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhcnRzLnNoaWZ0KCk/LnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgY3dvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3dvLmhlYWRlcnNba2V5XSA9IHBhcnRzLmpvaW4oUmVzcG9uc2VQYXJzZXIuSGVhZGVyS1ZTZXBhcmF0b3JDaGFyKS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eW1xcc1xcclxcbl0qJC9pLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyc2VMZXZlbHMuSEVBREVSUzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5SRVFVRVNUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwYXJzZUxldmVscy5SRVFVRVNUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHBhcnNlTGV2ZWxzLlJFUVVFU1RfSEVBREVSUztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyc2VMZXZlbHMuUkVRVUVTVF9IRUFERVJTOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHBhcnNlTGV2ZWxzLlJFUVVFU1RfQk9EWTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgU2FmZVBhcnNlKHJhdzogYW55KTogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgYW55IHtcclxuXHJcbiAgICAgICAgaWYgKCFpc1N0cmluZyhyYXcpKVxyXG4gICAgICAgICAgICByZXR1cm4gcmF3O1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBkb206IERPTVBhcnNlciB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZG9tID0gbmV3IERPTVBhcnNlcigpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZG9tKVxyXG4gICAgICAgICAgICByZXR1cm4gcmF3O1xyXG5cclxuICAgICAgICBsZXQgZG9jOiBEb2N1bWVudCB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZG9jID0gZG9tLnBhcnNlRnJvbVN0cmluZyhyYXcsICd0ZXh0L3htbCcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZG9jKVxyXG4gICAgICAgICAgICByZXR1cm4gcmF3O1xyXG5cclxuICAgICAgICBjb25zdCBlcnJvciA9IGRvYy5xdWVyeVNlbGVjdG9yKCdlcnJvcicpO1xyXG5cclxuICAgICAgICBpZiAoIWVycm9yKVxyXG4gICAgICAgICAgICByZXR1cm4gZG9jO1xyXG5cclxuICAgICAgICBjb25zdCBjb2RlID0gZXJyb3IucXVlcnlTZWxlY3RvcignY29kZScpO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5xdWVyeVNlbGVjdG9yKCdtZXNzYWdlJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvZGVUZXh0ID0gY29kZSA/IGNvZGUuaW5uZXJIVE1MIDogMDtcclxuICAgICAgICBjb25zdCBtZXNzYWdlVGV4dCA9IG1lc3NhZ2UgPyBtZXNzYWdlLmlubmVySFRNTCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGAke2NvZGVUZXh0fTogJHttZXNzYWdlVGV4dH1gO1xyXG5cclxuICAgICAgICByZXR1cm4gZXJyb3JUZXh0O1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbmRpdmlkdWFsIHF1ZXJpZXMgYXJlIGJ1bmRsZWQgaW50byBcImNoYW5nZXNldFwiIGVudHJpZXMuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2hhbmdlc2V0IHtcclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBfb3B0aW9uczogQmF0Y2hKb2JPcHRpb25zO1xyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIF9yZXNwb25zZVBheWxvYWQ6IFJlc3BvbnNlUGFyc2VyUGF5bG9hZCB8IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBCYXRjaEpvYk9wdGlvbnMpIHtcclxuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gZXh0ZW5kKHt9LCBGYWxsYmFja0JhdGNoSm9iT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBgR0VUYCwgYFBPU1RgLCBgLi4uYCBtZXRob2QuXHJcbiAgICAgKiBAcmV0dXJucyBSZXF1ZXN0IG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgZ2V0TWV0aG9kKCk6IFJlcXVlc3RNZXRob2RzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucy5tZXRob2Q7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBmdWxsIHJlcXVlc3QgVVJMLlxyXG4gICAgICogQHJldHVybnMgUmVxdWVzdCBVUkwgd2l0aCBhbnkgb3B0aW9uYWwgcGFyYW1zLlxyXG4gICAgICovXHJcbiAgICBnZXRVcmwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuX29wdGlvbnMudXJsfSR7dG9QYXJhbXModGhpcy5fb3B0aW9ucy5wYXJhbXMpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWFkZXJzIG9iamVjdCBmb3IgdGhlIHJlcXVlc3QuXHJcbiAgICAgKiBAcmV0dXJucyBSZXF1ZXN0IGhlYWRlciBhcnJheS5cclxuICAgICAqL1xyXG4gICAgZ2V0SGVhZGVycygpOiBCYXRjaEpvYkhlYWRlcltdIHtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuX29wdGlvbnMuaGVhZGVycztcclxuICAgICAgICBjb25zdCByZXN1bHRzOiBCYXRjaEpvYkhlYWRlcltdID0gW107XHJcblxyXG4gICAgICAgIGlmIChpc09iamVjdChoZWFkZXJzKSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBoZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goeyBrZXk6IGhlYWRlciwgdmFsdWU6IGhlYWRlcnNbaGVhZGVyXSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIGdldFBheWxvYWQoKTogQm9keUluaXQgfCBudWxsIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucy5ib2R5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgcGF5bG9hZCBmcm9tIHRoZSBzZXJ2ZXIgb25jZSB0aGUgY2hhbmdlc2V0IGlzIHF1ZXJpZWQgYW5kIHByb2Nlc3NlZC5cclxuICAgICAqIEByZXR1cm5zIFRoZSByYXcgZGF0YSB0aGUgc2VydmVyIHJlc3BvbmRlZCB3aXRoIGZyb20gdGhlIHJlcXVlc3QuXHJcbiAgICAgKi9cclxuICAgIGdldFJlc3BvbnNlUGF5bG9hZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VQYXlsb2FkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIHByb2Nlc3NSZXNwb25zZVBheWxvYWQocGF5bG9hZDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlUGF5bG9hZCA9IHBheWxvYWQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzUGF5bG9hZCA9IGlzT2JqZWN0KHBheWxvYWQpO1xyXG4gICAgICAgIGNvbnN0IHNhZmVQYXlsb2FkID0gaXNQYXlsb2FkID8gcGF5bG9hZCBhcyBSZXNwb25zZVBhcnNlclBheWxvYWQgOiBudWxsO1xyXG4gICAgICAgIGNvbnN0IHN0YXR1c0RpZ2l0ID0gc2FmZVBheWxvYWQgPyBzYWZlUGF5bG9hZC5odHRwLnN0YXR1cyAvIDEwMCB8IDAgOiAwO1xyXG5cclxuICAgICAgICBpZiAoc2FmZVBheWxvYWQpXHJcbiAgICAgICAgICAgIHNhZmVQYXlsb2FkLmNoYW5nZXNldCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmIChzdGF0dXNEaWdpdCAhPT0gMilcclxuICAgICAgICAgICAgc2FmZUNhbGwodGhpcy5fb3B0aW9ucywgJ2ZhaWwnLCB0aGlzLCBwYXlsb2FkKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHNhZmVDYWxsKHRoaXMuX29wdGlvbnMsICdkb25lJywgdGhpcywgcGF5bG9hZCk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIEJ1bmRsZXMgb2YgQ2hhbmdlc2V0IG9iamVjdHMgYXJlIGx1bXBlZCBpbnRvIFwiYmF0Y2ggam9iXCIgZW50cmllcy5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQmF0Y2hKb2Ige1xyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIF9vcHRpb25zOiBCYXRjaEpvYk9wdGlvbnM7XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgX2NoYW5nZXNldHM6IENoYW5nZXNldFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEJhdGNoSm9iT3B0aW9ucykge1xyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl9jaGFuZ2VzZXRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmQgYSBjaGFuZ2VzZXQgdG8gdGhlIGNoYW5nZXNldCBxdWV1ZS5cclxuICAgICAqIEBwYXJhbSBjaGFuZ2VzZXQgQW4gb2JqZWN0IG9mIGBDaGFuZ2VzZXRgLlxyXG4gICAgICogQHJldHVybnMgU3VjY2Vzc2Z1bGwgYWRkaXRpb25zIHJldHVybiB0aGUgYGluZGV4YCBpbiB0aGUgcXVldWUgb3RoZXJ3aXNlIGAtMWAuXHJcbiAgICAgKi9cclxuICAgIGFkZENoYW5nZXNldChjaGFuZ2VzZXQ6IENoYW5nZXNldCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKGNoYW5nZXNldCBpbnN0YW5jZW9mIENoYW5nZXNldCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdlc2V0Ll9vcHRpb25zLnVybFswXSA9PT0gJy8nKVxyXG4gICAgICAgICAgICAgICAgY2hhbmdlc2V0Ll9vcHRpb25zLnVybCA9IGAke3RoaXMuX29wdGlvbnMudXJsfSR7Y2hhbmdlc2V0Ll9vcHRpb25zLnVybH1gO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hhbmdlc2V0cy5wdXNoKGNoYW5nZXNldCkgLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgZ2V0UGF5bG9hZChndWlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgY2hhbmdlc2V0IG9mIHRoaXMuX2NoYW5nZXNldHMpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IGNoYW5nZXNldC5nZXRNZXRob2QoKTtcclxuICAgICAgICAgICAgY29uc3QgYm91bmRhcnkgPSBtZXRob2QgPT09ICdHRVQnID8gbnVsbCA6IGBjaGFuZ2VzZXRfJHtjcmVhdGVHVUlEKCl9YDtcclxuXHJcbiAgICAgICAgICAgIGRhdGEucHVzaChgLS1iYXRjaF8ke2d1aWR9YCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYm91bmRhcnkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaChgQ29udGVudC1UeXBlOiBtdWx0aXBhcnQvbWl4ZWQ7IGJvdW5kYXJ5PVwiJHtib3VuZGFyeX1cImApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKCdDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2h0dHAnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YS5wdXNoKCdDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiaW5hcnknKTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKCcnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtZXRob2QgPT09ICdHRVQnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKGAke21ldGhvZH0gJHtjaGFuZ2VzZXQuZ2V0VXJsKCl9IEhUVFAvMS4xYCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0FjY2VwdDogYXBwbGljYXRpb24vanNvbjtvZGF0YT12ZXJib3NlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgY2hhbmdlc2V0LmdldEhlYWRlcnMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChgJHtoZWFkZXIua2V5fTogJHtoZWFkZXIudmFsdWV9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKCcnKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKGAtLSR7Ym91bmRhcnl9YCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vaHR0cCcpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKCdDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiaW5hcnknKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKGAke21ldGhvZH0gJHtjaGFuZ2VzZXQuZ2V0VXJsKCl9IEhUVFAvMS4xYCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0FjY2VwdDogYXBwbGljYXRpb24vanNvbjtvZGF0YT12ZXJib3NlJyk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbjtvZGF0YT12ZXJib3NlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgY2hhbmdlc2V0LmdldEhlYWRlcnMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChgJHtoZWFkZXIua2V5fTogJHtoZWFkZXIudmFsdWV9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VzZXRQYXlsb2FkID0gY2hhbmdlc2V0LmdldFBheWxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlc2V0UGF5bG9hZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goSlNPTi5zdHJpbmdpZnkoY2hhbmdlc2V0UGF5bG9hZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGJvdW5kYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYC0tJHtib3VuZGFyeX0tLWApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGEuam9pbignXFxyXFxuJyk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBsaWJyYXJ5IGVudHJ5IHBvaW50IGNsYXNzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNoYXJlUG9pbnRCYXRjaCB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGV4dHJhY3QgZGF0YSBmcm9tIHRoZSBgd2luZG93YCBwcm9wZXJ0aWVzIGBfc3BQYWdlQ29udGV4dEluZm9gIGFuZCBgR2V0UmVxdWVzdERpZ2VzdGAuXHJcbiAgICAgKiBAcmV0dXJucyBJZiBwb3NzaWJsZSBpdCByZXR1cm5zIGEgYFNoYXJlUG9pbnRPcHRpb25zYCBvYmplY3Qgb3RoZXJ3aXNlIG5vdGhpbmcuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBHZXRTaGFyZVBvaW50T3B0aW9ucygpOiBTaGFyZVBvaW50T3B0aW9ucyB8IHVuZGVmaW5lZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbjogYW55ID0gd2luZG93O1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IGFueSA9IHdpbi5fc3BQYWdlQ29udGV4dEluZm87XHJcbiAgICAgICAgY29uc3QgZ2V0RGlnZXN0OiBhbnkgPSB3aW4uR2V0UmVxdWVzdERpZ2VzdDtcclxuXHJcbiAgICAgICAgaWYgKCFpc09iamVjdChjb250ZXh0KSB8fCB0eXBlb2YgZ2V0RGlnZXN0ICE9PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGxldCB1cmw6IGFueSA9IGNvbnRleHQud2ViQWJzb2x1dGVVcmw7XHJcbiAgICAgICAgbGV0IGRpZ2VzdDogYW55O1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkaWdlc3QgPSBnZXREaWdlc3QoKTtcclxuICAgICAgICB9IGNhdGNoIChleDogYW55KSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzU3RyaW5nKHVybCkpXHJcbiAgICAgICAgICAgIHVybCA9ICcnO1xyXG5cclxuICAgICAgICBpZiAoIWlzU3RyaW5nKGRpZ2VzdCkpXHJcbiAgICAgICAgICAgIGRpZ2VzdCA9ICcnO1xyXG5cclxuICAgICAgICByZXR1cm4geyB1cmwsIGRpZ2VzdCB9O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBfb3B0aW9uczogU2hhcmVQb2ludE9wdGlvbnM7XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgX2pvYnM6IEJhdGNoSm9iW107XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgX2pvYjogQmF0Y2hKb2IgfCB1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogU2hhcmVQb2ludE9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLl9qb2JzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgYXBwZW5kTmV3Sm9iKG9wdGlvbnM/OiBCYXRjaEpvYk9wdGlvbnMpOiBCYXRjaEpvYiB7XHJcblxyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrOiBCYXRjaEpvYk9wdGlvbnMgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5fam9iID0gbmV3IEJhdGNoSm9iKGZhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLl9qb2JzLnB1c2godGhpcy5fam9iKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2pvYjtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgZ2V0QWN0aXZlSm9iKCk6IEJhdGNoSm9iIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2pvYilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kTmV3Sm9iKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2pvYjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZCBhIGNoYW5nZXNldCB0byB0aGUgYmF0Y2ggcXVldWUuXHJcbiAgICAgKiBAcGFyYW0gY2hhbmdlc2V0IE9iamVjdCBpbnN0YW5jZSBvZiBgQ2hhbmdlc2V0YC5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgY2hhbmdlc2V0IHdhcyBhZGRlZCBvdGhlcndpc2UgYGZhbHNlYC5cclxuICAgICAqL1xyXG4gICAgYWRkQ2hhbmdlc2V0KGNoYW5nZXNldDogQ2hhbmdlc2V0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgam9iID0gdGhpcy5nZXRBY3RpdmVKb2IoKTtcclxuICAgICAgICByZXR1cm4gam9iLmFkZENoYW5nZXNldChjaGFuZ2VzZXQpID4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgZ2V0UGF5bG9hZChndWlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9qb2JzLm1hcChqb2IgPT4gam9iLmdldFBheWxvYWQoZ3VpZCkpLmpvaW4oJ1xcclxcbicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIGdldFNlbmRPcHRpb25zKG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyk6IFJlcXVlc3RPcHRpb25zIHtcclxuXHJcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2s6IFJlcXVlc3RPcHRpb25zID0gZXh0ZW5kKHt9LCBGYWxsYmFja1JlcXVlc3RPcHRpb25zLCB0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ3VpZCA9IGNyZWF0ZUdVSUQoKTtcclxuXHJcbiAgICAgICAgZmFsbGJhY2sudXJsID0gYCR7dGhpcy5fb3B0aW9ucy51cmx9L19hcGkvJGJhdGNoYDtcclxuXHJcbiAgICAgICAgaWYgKGZhbGxiYWNrLmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGZhbGxiYWNrLmhlYWRlcnMsIHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBgbXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1cImJhdGNoXyR7Z3VpZH1cImAsXHJcbiAgICAgICAgICAgICAgICAnWC1SZXF1ZXN0RGlnZXN0JzogdGhpcy5fb3B0aW9ucy5kaWdlc3QsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmFsbGJhY2suYm9keSA9IGAke3RoaXMuZ2V0UGF5bG9hZChndWlkKX1cXHJcXG4tLWJhdGNoXyR7Z3VpZH0tLWA7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzIHRoZSBiYXRjaCBxdWV1ZS4gU3VwcG9ydHMgYGF3YWl0YCBidXQgdGhlIG91dHB1dCBpcyBub3RoaW5nIGlmIGl0IGZhaWxzLCBvdGhlcndpc2UgaXQgY29udGFpbnMgdGhlIHN1Y2Nlc3NmdWxsIGRhdGEgZnJvbSB0aGUgcmVxdWVzdC5cclxuICAgICAqIFxyXG4gICAgICogWW91IGNhbiBhc3NpZ24gdGhlIGBkb25lYCBhbmQgYGZhaWxgIHRvIHRoZSBvcHRpb25hbCBhcmd1bWVudCBgb3B0aW9uc2AgaW4gb3JkZXIgdG8gZGV0ZWN0IHRoZSBvdXRjb21lIG9mIHRoZSByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgYFJlcXVlc3RPcHRpb25zYCBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJucyBgUHJvbWlzZWAgdGhhdCBlaXRoZXIgcmV0dXJucyBhIGBTaGFyZVBvaW50QmF0Y2hSZXNwb25zZWAgd2hlbiBzdWNjZXNzZnVsbCBvdGhlcndpc2Ugbm90aGluZy5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2VuZChvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPFNoYXJlUG9pbnRCYXRjaFJlc3BvbnNlPiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYW5nZXNldHM6IENoYW5nZXNldFtdID0gdGhpcy5fam9icy5yZWR1Y2UoKHA6IENoYW5nZXNldFtdLCBjOiBCYXRjaEpvYikgPT4geyBwLnB1c2goLi4uYy5fY2hhbmdlc2V0cyk7IHJldHVybiBwOyB9LCBbXSk7XHJcbiAgICAgICAgY2hhbmdlc2V0cy5mb3JFYWNoKGNoYW5nZXNldCA9PiBzYWZlQ2FsbChjaGFuZ2VzZXQuX29wdGlvbnMsICdiZWZvcmUnLCBjaGFuZ2VzZXQpKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2FmZUVycm9yID0gKC4uLmFyZ3M6IGFueSk6IHVuZGVmaW5lZCA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNldHMuZm9yRWFjaChjaGFuZ2VzZXQgPT4gc2FmZUNhbGwoY2hhbmdlc2V0Ll9vcHRpb25zLCAnZmFpbCcsIGNoYW5nZXNldCwgLi4uYXJncykpO1xyXG4gICAgICAgICAgICBjaGFuZ2VzZXRzLmZvckVhY2goY2hhbmdlc2V0ID0+IHNhZmVDYWxsKGNoYW5nZXNldC5fb3B0aW9ucywgJ2ZpbmFsbHknLCBjaGFuZ2VzZXQpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHNhZmVGaW5hbGx5ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VzZXRzLmZvckVhY2goY2hhbmdlc2V0ID0+IHNhZmVDYWxsKGNoYW5nZXNldC5fb3B0aW9ucywgJ2ZpbmFsbHknLCBjaGFuZ2VzZXQpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBmYWxsYmFjazogUmVxdWVzdE9wdGlvbnMgPSB0aGlzLmdldFNlbmRPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICBjb25zdCBiYWNrdXA6IFJlcXVlc3RPcHRpb25zID0gZXh0ZW5kKHt9LCBmYWxsYmFjayk7XHJcblxyXG4gICAgICAgIGxldCBkZWxheWVkRG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBkZWxheWVkRmFpbCA9IGZhbHNlO1xyXG4gICAgICAgIGZhbGxiYWNrLmRvbmUgPSAoKSA9PiBkZWxheWVkRG9uZSA9IHRydWU7XHJcbiAgICAgICAgZmFsbGJhY2suZmFpbCA9ICgpID0+IGRlbGF5ZWRGYWlsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBSZXF1ZXN0KGZhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBpZiAoZGVsYXllZEZhaWwpXHJcbiAgICAgICAgICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdmYWlsJywgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICBzYWZlRXJyb3IoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuXHJcbiAgICAgICAgaWYgKCFwYXlsb2FkIHx8ICFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBzYWZlUGF5bG9hZCA9IFJlc3BvbnNlUGFyc2VyLlNhZmVQYXJzZShwYXlsb2FkKTtcclxuICAgICAgICAgICAgaWYgKGRlbGF5ZWRGYWlsKVxyXG4gICAgICAgICAgICAgICAgc2FmZUNhbGwoYmFja3VwLCAnZmFpbCcsIHJlc3BvbnNlLCBzYWZlUGF5bG9hZCwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgc2FmZUVycm9yKHNhZmVQYXlsb2FkLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwYXJzZWQgPSBSZXNwb25zZVBhcnNlci5QYXJzZShwYXlsb2FkKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc0FycmF5KHBhcnNlZCkpIHtcclxuICAgICAgICAgICAgY2hhbmdlc2V0cy5mb3JFYWNoKGNoYW5nZXNldCA9PiBjaGFuZ2VzZXQucHJvY2Vzc1Jlc3BvbnNlUGF5bG9hZChwYXlsb2FkKSk7XHJcbiAgICAgICAgICAgIGlmIChkZWxheWVkRG9uZSlcclxuICAgICAgICAgICAgICAgIHNhZmVDYWxsKGJhY2t1cCwgJ2RvbmUnLCByZXNwb25zZSwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIHNhZmVGaW5hbGx5KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2hhbmdlc2V0UGF5bG9hZHMgPSBwYXJzZWQgYXMgUmVzcG9uc2VQYXJzZXJQYXlsb2FkW107XHJcbiAgICAgICAgY2hhbmdlc2V0cy5mb3JFYWNoKChjaGFuZ2VzZXQsIGluZGV4KSA9PiBjaGFuZ2VzZXQucHJvY2Vzc1Jlc3BvbnNlUGF5bG9hZChjaGFuZ2VzZXRQYXlsb2Fkc1tpbmRleF0pKTtcclxuICAgICAgICBpZiAoZGVsYXllZERvbmUpXHJcbiAgICAgICAgICAgIHNhZmVDYWxsKGJhY2t1cCwgJ2RvbmUnLCByZXNwb25zZSwgY2hhbmdlc2V0UGF5bG9hZHMpO1xyXG4gICAgICAgIHNhZmVGaW5hbGx5KCk7XHJcbiAgICAgICAgcmV0dXJuIGNoYW5nZXNldFBheWxvYWRzO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQ2FsbGJhY2tQcm9wcywgUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gKG9iamVjdDogYW55KSA9PiBBcnJheS5pc0FycmF5KG9iamVjdCk7XHJcblxyXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAob2JqZWN0OiBhbnksIHBsYWluT2JqZWN0OiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuID0+IG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiAoIXBsYWluT2JqZWN0IHx8ICFpc0FycmF5KG9iamVjdCkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gKG9iamVjdDogYW55KSA9PiB0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJztcclxuXHJcbmV4cG9ydCBjb25zdCBleHRlbmQgPSA8VD4odGFyZ2V0OiBULCAuLi5zb3VyY2VzOiBUW10pOiBUID0+IE9iamVjdC5hc3NpZ24odGFyZ2V0IGFzIE9iamVjdCwgLi4uc291cmNlcyk7XHJcblxyXG5leHBvcnQgY29uc3QgdG9QYXJhbXMgPSAob2JqZWN0OiBhbnkpOiBzdHJpbmcgPT4ge1xyXG5cclxuICAgIGlmIChvYmplY3QgPT0gbnVsbClcclxuICAgICAgICByZXR1cm4gJyc7XHJcblxyXG4gICAgY29uc3QgYXJyYXlQcmVmaXggPSAnYSc7XHJcbiAgICBjb25zdCBwYXJhbVByZWZpeCA9ICc/JztcclxuICAgIGNvbnN0IHBhcmFtRGVsaW0gPSAnJic7XHJcblxyXG4gICAgY29uc3Qgc2VyaWFsaXplID0gKG86IG9iamVjdCwgbj86IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcblxyXG4gICAgICAgIGlmIChpc0FycmF5KG8pKSB7XHJcblxyXG4gICAgICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgcmV0dXJuIG8ubWFwKCh2LCBrKSA9PiBgJHtuIHx8IGFycmF5UHJlZml4fVske2t9XT0ke3NlcmlhbGl6ZSh2KX1gKS5qb2luKHBhcmFtRGVsaW0pO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG8pKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIG8pIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIW8uaGFzT3duUHJvcGVydHkoaykpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IG9ba107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwLnB1c2goc2VyaWFsaXplKG9ba10sIGspKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5wdXNoKGAke2t9PSR7c2VyaWFsaXplKG9ba10pfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHAuam9pbihwYXJhbURlbGltKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwID0gYCR7b31gO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcDtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHBhcmFtcyA9IHNlcmlhbGl6ZShvYmplY3QpO1xyXG5cclxuICAgIGlmICghcGFyYW1zLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gJyc7XHJcblxyXG4gICAgcmV0dXJuIGAke3BhcmFtUHJlZml4fSR7cGFyYW1zfWA7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUdVSUQgPSAoKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIChjOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcclxuICAgICAgICByZXR1cm4gKGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCkpLnRvU3RyaW5nKDE2KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNhZmVDYWxsID0gKG9wdGlvbnM6IFJlcXVlc3RPcHRpb25zLCBwcm9wOiBDYWxsYmFja1Byb3BzLCAuLi5hcmdzOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1twcm9wXTtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgdmFsdWUuY2FsbChudWxsLCBvcHRpb25zLCAuLi5hcmdzKTtcclxufTtcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IENoYW5nZXNldCwgQmF0Y2hKb2IsIFNoYXJlUG9pbnRCYXRjaCB9IGZyb20gJy4vc2hhcmVwb2ludCc7XHJcblxyXG4oKHdpbmRvdzogYW55LCBTaGFyZVBvaW50QmF0Y2g6IGFueSkgPT4ge1xyXG4gICAgU2hhcmVQb2ludEJhdGNoLkNoYW5nZXNldCA9IENoYW5nZXNldDtcclxuICAgIFNoYXJlUG9pbnRCYXRjaC5CYXRjaEpvYiA9IEJhdGNoSm9iO1xyXG4gICAgd2luZG93LlNoYXJlUG9pbnRCYXRjaCA9IFNoYXJlUG9pbnRCYXRjaDtcclxufSkod2luZG93LCBTaGFyZVBvaW50QmF0Y2gpO1xyXG4iXSwibmFtZXMiOlsiUmVxdWVzdCIsIm9wdGlvbnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNhZmVDYWxsIiwicmVzcG9uc2UiLCJmZXRjaCIsInVybCIsIm9rIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIlJlcXVlc3RKc29uIiwianNvbiIsIkZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zIiwibWV0aG9kIiwiRmFsbGJhY2tSZXF1ZXN0T3B0aW9ucyIsImhlYWRlcnMiLCJQYXJzZSIsInJhdyIsImlzU3RyaW5nIiwiSlNPTiIsInBhcnNlIiwiZXgiLCJwYXJzZUxldmVscyIsIlJlc3BvbnNlUGFyc2VyIiwiTGV2ZWwiLCJsaW5lcyIsInNwbGl0IiwiTGluZVNlcGFyYXRvciIsInJlc3VsdHMiLCJ0ZW1wIiwiY3dvIiwibGV2ZWwiLCJVTktOT1dOIiwibGluZSIsIkJhdGNoUmVzcG9uc2UxIiwidGVzdCIsImRhdGEiLCJ0aGlzIiwicHVzaCIsIkVPRiIsIkJhdGNoUmVzcG9uc2UyIiwiaHR0cCIsIkhFQURFUlMiLCJSRVFVRVNUX0JPRFkiLCJCYXRjaFJlc3BvbnNlMyIsIlJFUVVFU1QiLCJtYXRjaCIsInBhcnNlSW50IiwiUkVRVUVTVF9IRUFERVJTIiwicGFydHMiLCJIZWFkZXJLVlNlcGFyYXRvciIsImtleSIsInNoaWZ0IiwidHJpbSIsImpvaW4iLCJIZWFkZXJLVlNlcGFyYXRvckNoYXIiLCJTYWZlUGFyc2UiLCJkb20iLCJkb2MiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJlcnJvciIsInF1ZXJ5U2VsZWN0b3IiLCJjb2RlIiwibWVzc2FnZSIsImNvZGVUZXh0IiwiaW5uZXJIVE1MIiwibWVzc2FnZVRleHQiLCJfb3B0aW9ucyIsImV4dGVuZCIsImdldE1ldGhvZCIsImdldFVybCIsInRvUGFyYW1zIiwicGFyYW1zIiwiZ2V0SGVhZGVycyIsImlzT2JqZWN0IiwiaGVhZGVyIiwidmFsdWUiLCJnZXRQYXlsb2FkIiwiYm9keSIsImdldFJlc3BvbnNlUGF5bG9hZCIsIl9yZXNwb25zZVBheWxvYWQiLCJwcm9jZXNzUmVzcG9uc2VQYXlsb2FkIiwicGF5bG9hZCIsInNhZmVQYXlsb2FkIiwic3RhdHVzRGlnaXQiLCJjaGFuZ2VzZXQiLCJDaGFuZ2VzZXQiLCJfY2hhbmdlc2V0cyIsImFkZENoYW5nZXNldCIsImd1aWQiLCJib3VuZGFyeSIsImNyZWF0ZUdVSUQiLCJjaGFuZ2VzZXRQYXlsb2FkIiwic3RyaW5naWZ5IiwiQmF0Y2hKb2IiLCJfam9icyIsIkdldFNoYXJlUG9pbnRPcHRpb25zIiwid2luIiwid2luZG93IiwiY29udGV4dCIsIl9zcFBhZ2VDb250ZXh0SW5mbyIsImdldERpZ2VzdCIsIkdldFJlcXVlc3REaWdlc3QiLCJkaWdlc3QiLCJ3ZWJBYnNvbHV0ZVVybCIsImFwcGVuZE5ld0pvYiIsImZhbGxiYWNrIiwiX2pvYiIsImdldEFjdGl2ZUpvYiIsIm1hcCIsImpvYiIsImdldFNlbmRPcHRpb25zIiwic2VuZCIsImNoYW5nZXNldHMiLCJyZWR1Y2UiLCJwIiwiYyIsImZvckVhY2giLCJzYWZlRXJyb3IiLCJhcmdzIiwic2FmZUZpbmFsbHkiLCJiYWNrdXAiLCJkZWxheWVkRG9uZSIsImRlbGF5ZWRGYWlsIiwiZG9uZSIsImZhaWwiLCJ0ZXh0IiwicGFyc2VkIiwiaXNBcnJheSIsImNoYW5nZXNldFBheWxvYWRzIiwiaW5kZXgiLCJTaGFyZVBvaW50QmF0Y2giLCJvYmplY3QiLCJBcnJheSIsInBsYWluT2JqZWN0IiwidGFyZ2V0IiwiT2JqZWN0IiwiYXNzaWduIiwic291cmNlcyIsInNlcmlhbGl6ZSIsIm8iLCJuIiwidiIsImsiLCJoYXNPd25Qcm9wZXJ0eSIsImVuY29kZVVSSUNvbXBvbmVudCIsImxlbmd0aCIsInJlcGxhY2UiLCJyIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwicHJvcCIsImNhbGwiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInByb3RvdHlwZSIsIl9fZXh0ZW5kcyIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2Fzc2lnbiIsInQiLCJzIiwiaSIsImFyZ3VtZW50cyIsImFwcGx5IiwiX19yZXN0IiwiZSIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImRlZmluZVByb3BlcnR5IiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwicmVzdWx0IiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvcCIsInBvcCIsIl9fY3JlYXRlQmluZGluZyIsIm0iLCJrMiIsInVuZGVmaW5lZCIsIl9fZXNNb2R1bGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJfX2V4cG9ydFN0YXIiLCJfX3ZhbHVlcyIsIl9fcmVhZCIsImFyIiwiX19zcHJlYWQiLCJjb25jYXQiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiYSIsImoiLCJqbCIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsImZyb20iLCJwYWNrIiwibCIsInNsaWNlIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJfX2FzeW5jRGVsZWdhdG9yIiwiX19hc3luY1ZhbHVlcyIsIl9fbWFrZVRlbXBsYXRlT2JqZWN0IiwiY29va2VkIiwiX19zZXRNb2R1bGVEZWZhdWx0IiwiX19pbXBvcnRTdGFyIiwibW9kIiwiX19pbXBvcnREZWZhdWx0IiwiZGVmYXVsdCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJyZWNlaXZlciIsInN0YXRlIiwia2luZCIsImhhcyIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJzZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkSW4iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvYmoiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=