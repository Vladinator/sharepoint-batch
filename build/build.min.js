!function(){"use strict";var t={"./request.ts":
/*!********************!*\
  !*** ./request.ts ***!
  \********************/function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.RequestJson=e.Request=void 0;const n=r(/*! tslib */"../node_modules/tslib/tslib.es6.js"),a=r(/*! ./utils */"./utils.ts");e.Request=t=>n.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((e=>n.__awaiter(void 0,void 0,void 0,(function*(){let r;(0,a.safeCall)(t,"before",r);try{r=yield fetch(t.url,t),r&&r.ok?(0,a.safeCall)(t,"done",r):(0,a.safeCall)(t,"fail",r,null==r?void 0:r.status,null==r?void 0:r.statusText)}catch(n){(0,a.safeCall)(t,"fail",r,n)}e(r),(0,a.safeCall)(t,"finally",r)}))))}));e.RequestJson=t=>n.__awaiter(void 0,void 0,void 0,(function*(){const r=yield(0,e.Request)(t);if(r)try{return yield r.json()}catch(n){}}))},"./sharepoint.ts":
/*!***********************!*\
  !*** ./sharepoint.ts ***!
  \***********************/function(t,e,r){var n,a,o,s,i,l,c,u,f,h,d,p,y;Object.defineProperty(e,"__esModule",{value:!0}),e.SharePointBatch=e.Changeset=void 0;const _=r(/*! tslib */"../node_modules/tslib/tslib.es6.js"),v=r(/*! ./utils */"./utils.ts"),b=r(/*! ./request */"./request.ts"),g={method:"GET",url:""},P={method:"POST",url:"",headers:{}};class w{static Parse(t){if(!(0,v.isString)(t))return;try{return JSON.parse(t)}catch(i){}const e=w.Level,r=t.split(w.LineSeparator),n=[];let a=null,o=null,s=e.UNKNOWN;for(const l of r){if(w.BatchResponse1.test(l)){a&&(a.data=this.Parse(a.data),n.push(a),a=null),s=e.EOF;break}if(w.BatchResponse2.test(l))a&&(a.data=this.Parse(a.data),n.push(a)),a={headers:{},http:{status:0,statusText:""},ok:!1,data:null},o=a,s=e.HEADERS;else if(s===e.REQUEST_BODY)o&&(null==o.data&&(o.data=""),o.data+=l);else if(w.BatchResponse3.test(l)){if(s===e.REQUEST&&o){const t=l.match(w.BatchResponse3);o.http.status=t&&parseInt(t[1],10)||0,o.http.statusText=t&&t[2]||"",o.ok=2==(o.http.status/100|0),s=e.REQUEST_HEADERS}}else if(/^.+:\s*.+$/i.test(l)){if(s===e.HEADERS||s===e.REQUEST_HEADERS){const t=l.split(w.HeaderKVSeparator);if(t){const e=t.shift(),r=e&&e.trim();r&&o&&(o.headers[r]=t.join(w.HeaderKVSeparatorChar).trim())}}}else if(/^[\s\r\n]*$/i.test(l))switch(s){case e.HEADERS:s=e.REQUEST;break;case e.REQUEST:s=e.REQUEST_HEADERS;break;case e.REQUEST_HEADERS:s=e.REQUEST_BODY}}if(!n.length){const e=w.SafeParse(t);if(e&&e!==t)return e}return n}static SafeParse(t){if(!(0,v.isString)(t))return t;try{return JSON.parse(t)}catch(s){}let e,r;try{e=new DOMParser}catch(s){}if(!e)return t;try{r=e.parseFromString(t,"text/xml")}catch(s){}if(!r)return t;const n=r.querySelector("error");if(!n)return r;const a=n.querySelector("code"),o=n.querySelector("message");return`${a?a.innerHTML:0}: ${o?o.innerHTML:""}`}}w.Level={UNKNOWN:0,HEADERS:1,REQUEST:2,REQUEST_HEADERS:3,REQUEST_BODY:4,EOF:5},w.LineSeparator=/\r\n/,w.HeaderKVSeparator=/:/,w.HeaderKVSeparatorChar=":",w.BatchResponse1=/^--batchresponse_.+--$/i,w.BatchResponse2=/^--batchresponse_.+$/i,w.BatchResponse3=/^HTTP\/1\.1\s+(\d+)\s+(.+)$/i;class S{constructor(t){n.set(this,void 0),a.set(this,void 0),_.__classPrivateFieldSet(this,n,(0,v.extend)({},g,t),"f")}getOptions(){return _.__classPrivateFieldGet(this,n,"f")}getMethod(){return _.__classPrivateFieldGet(this,n,"f").method}getUrl(){return`${_.__classPrivateFieldGet(this,n,"f").url}${(0,v.toParams)(_.__classPrivateFieldGet(this,n,"f").params)}`}getHeaders(){const t=_.__classPrivateFieldGet(this,n,"f").headers,e=[];if((0,v.isObject)(t))for(const r in t){const n=t[r];e.push({key:r,value:n})}return e}getPayload(){return _.__classPrivateFieldGet(this,n,"f").body}getResponsePayload(){return _.__classPrivateFieldGet(this,a,"f")}setResponsePayload(t){_.__classPrivateFieldSet(this,a,t,"f")}}e.Changeset=S,n=new WeakMap,a=new WeakMap;class m{constructor(t){o.add(this),s.set(this,void 0),i.set(this,void 0),_.__classPrivateFieldSet(this,s,(0,v.extend)({},g,t),"f"),_.__classPrivateFieldSet(this,i,[],"f")}getOptions(){return _.__classPrivateFieldGet(this,s,"f")}getChangesets(){return _.__classPrivateFieldGet(this,i,"f")}isChangesetsFull(){return _.__classPrivateFieldGet(this,i,"f").length>=m.NumMaxChangesets}addChangeset(t){if(t instanceof S){const e=t.getOptions();return"/"===e.url[0]&&(e.url=`${_.__classPrivateFieldGet(this,s,"f").url}${e.url}`),_.__classPrivateFieldGet(this,i,"f").push(t)-1}return-1}getPayload(t){const e=[];for(const r of _.__classPrivateFieldGet(this,i,"f")){const n=r.getMethod(),a="GET"===n?null:`changeset_${(0,v.createGUID)()}`;if(e.push(`--batch_${t}`),a?e.push(`Content-Type: multipart/mixed; boundary="${a}"`):e.push("Content-Type: application/http"),e.push("Content-Transfer-Encoding: binary"),e.push(""),"GET"===n){e.push(`${n} ${r.getUrl()} HTTP/1.1`),e.push("Accept: application/json;odata=verbose");for(const t of r.getHeaders())e.push(`${t.key}: ${t.value}`);e.push("")}else{e.push(`--${a}`),e.push("Content-Type: application/http"),e.push("Content-Transfer-Encoding: binary"),e.push(""),e.push(`${n} ${r.getUrl()} HTTP/1.1`),e.push("Accept: application/json;odata=verbose"),e.push("Content-Type: application/json;odata=verbose");for(const n of r.getHeaders())e.push(`${n.key}: ${n.value}`);e.push("");const t=r.getPayload();t&&(e.push(JSON.stringify(t)),e.push(""))}a&&e.push(`--${a}--`)}return e.join("\r\n")}send(t,e){return _.__awaiter(this,void 0,void 0,(function*(){const r=_.__classPrivateFieldGet(this,i,"f");r.forEach((t=>(0,v.safeCall)(t.getOptions(),"before",t)));const n=()=>{r.forEach((t=>(0,v.safeCall)(t.getOptions(),"fail",t))),r.forEach((t=>(0,v.safeCall)(t.getOptions(),"finally",t)))},a=()=>{r.forEach((t=>(0,v.safeCall)(t.getOptions(),"finally",t)))},s=_.__classPrivateFieldGet(this,o,"m",l).call(this,t,e),u=(0,v.extend)({},g,s);let f=!1,h=!1,d=[];s.before=()=>{},s.done=(...t)=>(f=!0,d=t),s.fail=(...t)=>(h=!0,d=t),s["finally"]=()=>{};const p=yield(0,b.Request)(s);if(d.shift(),!p)return h&&(0,v.safeCall)(u,"fail",p,d[3]||d[1],0,d[3]||d[1]),void n();const y=yield p.text();if(!y||!p.ok){const t=w.SafeParse(y);return h&&(0,v.safeCall)(u,"fail",p,t,p.status,p.statusText),void n()}const P=w.Parse(y);if(!(0,v.isArray)(P))return r.forEach((t=>_.__classPrivateFieldGet(this,o,"m",c).call(this,t,y))),f&&(0,v.safeCall)(u,"done",p,y),a(),y;const S=P;return r.forEach(((t,e)=>_.__classPrivateFieldGet(this,o,"m",c).call(this,t,S[e]))),f&&(0,v.safeCall)(u,"done",p,S),r.forEach((t=>(0,v.safeCall)(t.getOptions(),"done",t))),a(),S}))}}s=new WeakMap,i=new WeakMap,o=new WeakSet,l=function(t,e){const r=t.getOptions(),n=(0,v.extend)({},P,r,e),a=(0,v.createGUID)();return n.method="POST",n.url=`${r.url}/_api/$batch`,n.headers&&(0,v.extend)(n.headers,{"Content-Type":`multipart/mixed; boundary="batch_${a}"`,"X-RequestDigest":r.digest}),n.body=`${this.getPayload(a)}\r\n--batch_${a}--`,n},c=function(t,e){t.setResponsePayload(e);const r=(0,v.isObject)(e)?e:null,n=2==(r?r.http.status/100|0:0);r&&(r.changeset=t);const a=t.getOptions();n?(0,v.safeCall)(a,"fail",t,e):(0,v.safeCall)(a,"done",t,e)},m.NumMaxChangesets=100;e.SharePointBatch=class{constructor(t){u.add(this),f.set(this,void 0),h.set(this,void 0),d.set(this,void 0),_.__classPrivateFieldSet(this,f,t,"f"),_.__classPrivateFieldSet(this,h,[],"f")}static GetSharePointOptions(){const t=window,e=t._spPageContextInfo,r=t.GetRequestDigest;if(!(0,v.isObject)(e)||"function"!=typeof r)return;let n,a=e.webAbsoluteUrl;try{n=r()}catch(o){}return(0,v.isString)(a)||(a=""),(0,v.isString)(n)||(n=""),{url:a,digest:n}}getOptions(){return _.__classPrivateFieldGet(this,f,"f")}addChangeset(t){let e=_.__classPrivateFieldGet(this,u,"m",y).call(this);return e.isChangesetsFull()&&(e=_.__classPrivateFieldGet(this,u,"m",p).call(this)),e.addChangeset(t)>-1}getChangesets(){return _.__classPrivateFieldGet(this,h,"f").reduce(((t,e)=>(t.push(...e.getChangesets()),t)),[])}send(t){return _.__awaiter(this,void 0,void 0,(function*(){const e=(0,v.extend)({},g,t),r=(0,v.extend)({},g,e);let n=!1,a=!1,o=[];e.before=()=>{},e.done=(...t)=>(n=!0,o=t),e.fail=(...t)=>(a=!0,o=t),e["finally"]=()=>{};const s=[];let i=0,l=0;for(const t of _.__classPrivateFieldGet(this,h,"f")){const r=yield t.send(this,e);if((0,v.isArray)(r)){const t=r;i+=t.length,s.push(...t)}else{let e=t.getChangesets().length;for(l+=e;e-- >0;)s.push(r)}}return n&&!a&&!i&&l&&(n=!1,a=!0),n||a||(n=!0,o[1]=r),o.shift(),n?(o[1]=s,(0,v.safeCall)(r,"done",...o),(0,v.safeCall)(r,"finally",...o),{success:!0,ok:!0,results:s}):((0,v.safeCall)(r,"fail",...o),(0,v.safeCall)(r,"finally",...o),{error:!0,ok:!1,results:o[1]})}))}},f=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakSet,p=function(t){const e=(0,v.extend)({},g,_.__classPrivateFieldGet(this,f,"f"),t);return _.__classPrivateFieldSet(this,d,new m(e),"f"),_.__classPrivateFieldGet(this,h,"f").push(_.__classPrivateFieldGet(this,d,"f")),_.__classPrivateFieldGet(this,d,"f")},y=function(){return _.__classPrivateFieldGet(this,d,"f")?_.__classPrivateFieldGet(this,d,"f"):_.__classPrivateFieldGet(this,u,"m",p).call(this)}},"./utils.ts":
/*!******************!*\
  !*** ./utils.ts ***!
  \******************/function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.safeCall=e.createGUID=e.toParams=e.extend=e.isString=e.isObject=e.isArray=void 0;e.isArray=t=>Array.isArray(t);e.isObject=(t,r=!1)=>t&&"object"==typeof t&&(!r||!(0,e.isArray)(t));e.isString=t=>"string"==typeof t;e.extend=(t,...e)=>Object.assign(t,...e);e.toParams=t=>{if(null==t)return"";const r=(t,n)=>{if((0,e.isArray)(t))return t.map(((t,e)=>`${n||"a"}[${e}]=${r(t)}`)).join("&");if((0,e.isObject)(t)){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const a=t[n];Array.isArray(a)?e.push(r(a,n)):e.push(`${n}=${r(a)}`)}return e.join("&")}const a=`${t}`;try{return encodeURIComponent(a)}catch(o){}return a},n=r(t);return n.length?`?${n}`:""};e.createGUID=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}));e.safeCall=(t,e,...r)=>{const n=t[e];"function"==typeof n&&n.call(null,t,...r)}},"../node_modules/tslib/tslib.es6.js":
/*!******************************************!*\
  !*** ../node_modules/tslib/tslib.es6.js ***!
  \******************************************/function(t,e,r){r.r(e),r.d(e,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return P},__asyncValues:function(){return S},__await:function(){return g},__awaiter:function(){return u},__classPrivateFieldGet:function(){return j},__classPrivateFieldIn:function(){return T},__classPrivateFieldSet:function(){return C},__createBinding:function(){return h},__decorate:function(){return i},__exportStar:function(){return d},__extends:function(){return a},__generator:function(){return f},__importDefault:function(){return E},__importStar:function(){return x},__makeTemplateObject:function(){return m},__metadata:function(){return c},__param:function(){return l},__read:function(){return y},__rest:function(){return s},__spread:function(){return _},__spreadArray:function(){return b},__spreadArrays:function(){return v},__values:function(){return p}});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},o.apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]])}return r}function i(t,e,r,n){var a,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(s=(o<3?a(s):o>3?a(e,r,s):a(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function l(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,n){return new(r||(r=Promise))((function(a,o){function s(t){try{l(n.next(t))}catch(e){o(e)}}function i(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,i)}l((n=n.apply(t,e||[])).next())}))}function f(t,e){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n["return"]:o[0]?n["throw"]||((a=n["return"])&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(i){o=[6,i],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var h=Object.create?function(t,e,r,n){n===undefined&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===undefined&&(n=r),t[n]=e[r]};function d(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||h(e,t,r)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,a,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(a)throw a.error}}return s}function _(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function v(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,i=o.length;s<i;s++,a++)n[a]=o[s];return n}function b(t,e,r){if(r||2===arguments.length)for(var n,a=0,o=e.length;a<o;a++)!n&&a in e||(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return t.concat(n||Array.prototype.slice.call(e))}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function P(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){a[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||i(t,e)}))})}function i(t,e){try{(r=a[t](e)).value instanceof g?Promise.resolve(r.value.v).then(l,c):u(o[0][2],r)}catch(n){u(o[0][3],n)}var r}function l(t){i("next",t)}function c(t){i("throw",t)}function u(t,e){t(e),o.shift(),o.length&&i(o[0][0],o[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,a){e[n]=t[n]?function(e){return(r=!r)?{value:g(t[n](e)),done:"return"===n}:a?a(e):e}:a}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,a){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,a,(e=t[r](e)).done,e.value)}))}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var O=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e};function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&h(e,t,r);return O(e,t),e}function E(t){return t&&t.__esModule?t:{"default":t}}function j(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function C(t,e,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(t,r):a?a.value=r:e.set(t,r),r}function T(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}}},e={};function r(n){var a=e[n];if(a!==undefined)return a.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};!function(){var t=n;
/*!******************!*\
  !*** ./index.ts ***!
  \******************/Object.defineProperty(t,"__esModule",{value:!0});const e=r(/*! ./sharepoint */"./sharepoint.ts");((t,r)=>{r.Changeset=e.Changeset,t.SharePointBatch=r})(window,e.SharePointBatch)}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3QudHMiLCJ3ZWJwYWNrOi8vLy4vc2hhcmVwb2ludC50cyIsIndlYnBhY2s6Ly8vLi91dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdFJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscyc7XHJcblxyXG5leHBvcnQgY29uc3QgUmVxdWVzdCA9IGFzeW5jIChvcHRpb25zOiBSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8UmVxdWVzdFJlc3BvbnNlPiA9PiB7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICBsZXQgcmVzcG9uc2U6IFJlcXVlc3RSZXNwb25zZTtcclxuICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnYmVmb3JlJywgcmVzcG9uc2UpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKG9wdGlvbnMudXJsLCBvcHRpb25zIGFzIG5ldmVyKTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnZG9uZScsIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNhZmVDYWxsKG9wdGlvbnMsICdmYWlsJywgcmVzcG9uc2UsIHJlc3BvbnNlPy5zdGF0dXMsIHJlc3BvbnNlPy5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICAgICAgc2FmZUNhbGwob3B0aW9ucywgJ2ZhaWwnLCByZXNwb25zZSwgZXgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XHJcbiAgICAgICAgc2FmZUNhbGwob3B0aW9ucywgJ2ZpbmFsbHknLCByZXNwb25zZSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFJlcXVlc3RKc29uID0gYXN5bmMgKG9wdGlvbnM6IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxhbnkgfCB1bmRlZmluZWQ+ID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUmVxdWVzdChvcHRpb25zKTtcclxuICAgIGlmICghcmVzcG9uc2UpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfSBjYXRjaCAoZXgpIHtcclxuICAgIH1cclxufTtcclxuIiwiaW1wb3J0IHsgUmVxdWVzdE1ldGhvZHMsIFJlcXVlc3RPcHRpb25zLCBTaGFyZVBvaW50T3B0aW9ucywgQmF0Y2hKb2JPcHRpb25zLCBCYXRjaEpvYkhlYWRlciwgU2hhcmVQb2ludEJhdGNoSm9iUmVzcG9uc2UsIFJlc3BvbnNlUGFyc2VyUGF5bG9hZCwgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2UsIFNoYXJlUG9pbnRCYXRjaFJlc3BvbnNlU3VjY2VzcywgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2VFcnJvciwgU2hhcmVQb2ludEJhdGNoT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcsIGV4dGVuZCwgdG9QYXJhbXMsIGNyZWF0ZUdVSUQsIHNhZmVDYWxsIH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCB7IFJlcXVlc3QgfSBmcm9tICcuL3JlcXVlc3QnO1xyXG5cclxuY29uc3QgRmFsbGJhY2tCYXRjaEpvYk9wdGlvbnM6IEJhdGNoSm9iT3B0aW9ucyA9IHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICB1cmw6ICcnLFxyXG59O1xyXG5cclxuY29uc3QgRmFsbGJhY2tSZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnMgPSB7XHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgIHVybDogJycsXHJcbiAgICBoZWFkZXJzOiB7fSxcclxufTtcclxuXHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuY2xhc3MgUmVzcG9uc2VQYXJzZXIge1xyXG5cclxuICAgIHN0YXRpYyBMZXZlbCA9IHtcclxuICAgICAgICBVTktOT1dOOiAwLFxyXG4gICAgICAgIEhFQURFUlM6IDEsXHJcbiAgICAgICAgUkVRVUVTVDogMixcclxuICAgICAgICBSRVFVRVNUX0hFQURFUlM6IDMsXHJcbiAgICAgICAgUkVRVUVTVF9CT0RZOiA0LFxyXG4gICAgICAgIEVPRjogNSxcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIExpbmVTZXBhcmF0b3IgPSAvXFxyXFxuLztcclxuICAgIHN0YXRpYyBIZWFkZXJLVlNlcGFyYXRvciA9IC86LztcclxuICAgIHN0YXRpYyBIZWFkZXJLVlNlcGFyYXRvckNoYXIgPSAnOic7XHJcbiAgICBzdGF0aWMgQmF0Y2hSZXNwb25zZTEgPSAvXi0tYmF0Y2hyZXNwb25zZV8uKy0tJC9pO1xyXG4gICAgc3RhdGljIEJhdGNoUmVzcG9uc2UyID0gL14tLWJhdGNocmVzcG9uc2VfLiskL2k7XHJcbiAgICBzdGF0aWMgQmF0Y2hSZXNwb25zZTMgPSAvXkhUVFBcXC8xXFwuMVxccysoXFxkKylcXHMrKC4rKSQvaTtcclxuXHJcbiAgICBzdGF0aWMgUGFyc2UocmF3OiBzdHJpbmcpOiBSZXNwb25zZVBhcnNlclBheWxvYWRbXSB8IGFueSB7XHJcblxyXG4gICAgICAgIGlmICghaXNTdHJpbmcocmF3KSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcnNlTGV2ZWxzID0gUmVzcG9uc2VQYXJzZXIuTGV2ZWw7XHJcbiAgICAgICAgY29uc3QgbGluZXMgPSByYXcuc3BsaXQoUmVzcG9uc2VQYXJzZXIuTGluZVNlcGFyYXRvcik7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0czogUmVzcG9uc2VQYXJzZXJQYXlsb2FkW10gPSBbXTtcclxuXHJcbiAgICAgICAgbGV0IHRlbXA6IFJlc3BvbnNlUGFyc2VyUGF5bG9hZCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGxldCBjd286IFJlc3BvbnNlUGFyc2VyUGF5bG9hZCB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGxldCBsZXZlbCA9IHBhcnNlTGV2ZWxzLlVOS05PV047XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG5cclxuICAgICAgICAgICAgaWYgKFJlc3BvbnNlUGFyc2VyLkJhdGNoUmVzcG9uc2UxLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGVtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAuZGF0YSA9IHRoaXMuUGFyc2UodGVtcC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5FT0Y7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoUmVzcG9uc2VQYXJzZXIuQmF0Y2hSZXNwb25zZTIudGVzdChsaW5lKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5kYXRhID0gdGhpcy5QYXJzZSh0ZW1wLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0ZW1wID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHA6IHsgc3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9rOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBjd28gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5IRUFERVJTO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gcGFyc2VMZXZlbHMuUkVRVUVTVF9CT0RZKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGN3bykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3dvLmRhdGEgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3dvLmRhdGEgPSAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY3dvLmRhdGEgKz0gbGluZTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFJlc3BvbnNlUGFyc2VyLkJhdGNoUmVzcG9uc2UzLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT09IHBhcnNlTGV2ZWxzLlJFUVVFU1QpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN3bykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaHR0cCA9IGxpbmUubWF0Y2goUmVzcG9uc2VQYXJzZXIuQmF0Y2hSZXNwb25zZTMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjd28uaHR0cC5zdGF0dXMgPSBodHRwICYmIHBhcnNlSW50KGh0dHBbMV0sIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjd28uaHR0cC5zdGF0dXNUZXh0ID0gaHR0cCAmJiBodHRwWzJdIHx8ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjd28ub2sgPSAoY3dvLmh0dHAuc3RhdHVzIC8gMTAwIHwgMCkgPT09IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsID0gcGFyc2VMZXZlbHMuUkVRVUVTVF9IRUFERVJTO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICgvXi4rOlxccyouKyQvaS50ZXN0KGxpbmUpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID09PSBwYXJzZUxldmVscy5IRUFERVJTIHx8IGxldmVsID09PSBwYXJzZUxldmVscy5SRVFVRVNUX0hFQURFUlMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnNwbGl0KFJlc3BvbnNlUGFyc2VyLkhlYWRlcktWU2VwYXJhdG9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXdIZWFkZXIgPSBwYXJ0cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSByYXdIZWFkZXIgJiYgcmF3SGVhZGVyLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgJiYgY3dvKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3dvLmhlYWRlcnNba2V5XSA9IHBhcnRzLmpvaW4oUmVzcG9uc2VQYXJzZXIuSGVhZGVyS1ZTZXBhcmF0b3JDaGFyKS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKC9eW1xcc1xcclxcbl0qJC9pLnRlc3QobGluZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGxldmVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyc2VMZXZlbHMuSEVBREVSUzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBwYXJzZUxldmVscy5SRVFVRVNUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwYXJzZUxldmVscy5SRVFVRVNUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHBhcnNlTGV2ZWxzLlJFUVVFU1RfSEVBREVSUztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGFyc2VMZXZlbHMuUkVRVUVTVF9IRUFERVJTOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IHBhcnNlTGV2ZWxzLlJFUVVFU1RfQk9EWTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2FmZVBhcnNlID0gUmVzcG9uc2VQYXJzZXIuU2FmZVBhcnNlKHJhdyk7XHJcbiAgICAgICAgICAgIGlmIChzYWZlUGFyc2UgJiYgc2FmZVBhcnNlICE9PSByYXcpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2FmZVBhcnNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBTYWZlUGFyc2UocmF3OiBhbnkpOiBSZXNwb25zZVBhcnNlclBheWxvYWQgfCBhbnkge1xyXG5cclxuICAgICAgICBpZiAoIWlzU3RyaW5nKHJhdykpXHJcbiAgICAgICAgICAgIHJldHVybiByYXc7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJhdyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXg6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGRvbTogRE9NUGFyc2VyIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkb20gPSBuZXcgRE9NUGFyc2VyKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXg6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFkb20pXHJcbiAgICAgICAgICAgIHJldHVybiByYXc7XHJcblxyXG4gICAgICAgIGxldCBkb2M6IERvY3VtZW50IHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkb2MgPSBkb20ucGFyc2VGcm9tU3RyaW5nKHJhdywgJ3RleHQveG1sJyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXg6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFkb2MpXHJcbiAgICAgICAgICAgIHJldHVybiByYXc7XHJcblxyXG4gICAgICAgIGNvbnN0IGVycm9yID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ2Vycm9yJyk7XHJcblxyXG4gICAgICAgIGlmICghZXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBkb2M7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvZGUgPSBlcnJvci5xdWVyeVNlbGVjdG9yKCdjb2RlJyk7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLnF1ZXJ5U2VsZWN0b3IoJ21lc3NhZ2UnKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29kZVRleHQgPSBjb2RlID8gY29kZS5pbm5lckhUTUwgOiAwO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZXh0ID0gbWVzc2FnZSA/IG1lc3NhZ2UuaW5uZXJIVE1MIDogJyc7XHJcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYCR7Y29kZVRleHR9OiAke21lc3NhZ2VUZXh0fWA7XHJcblxyXG4gICAgICAgIHJldHVybiBlcnJvclRleHQ7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIEluZGl2aWR1YWwgcXVlcmllcyBhcmUgYnVuZGxlZCBpbnRvIFwiY2hhbmdlc2V0XCIgZW50cmllcy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGFuZ2VzZXQge1xyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNvcHRpb25zOiBCYXRjaEpvYk9wdGlvbnM7XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgI3Jlc3BvbnNlUGF5bG9hZDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEJhdGNoSm9iT3B0aW9ucykge1xyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgYEdFVGAsIGBQT1NUYCwgYC4uLmAgbWV0aG9kLlxyXG4gICAgICogQHJldHVybnMgUmVxdWVzdCBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIGdldE1ldGhvZCgpOiBSZXF1ZXN0TWV0aG9kcyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI29wdGlvbnMubWV0aG9kO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZnVsbCByZXF1ZXN0IFVSTC5cclxuICAgICAqIEByZXR1cm5zIFJlcXVlc3QgVVJMIHdpdGggYW55IG9wdGlvbmFsIHBhcmFtcy5cclxuICAgICAqL1xyXG4gICAgZ2V0VXJsKCkge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLiNvcHRpb25zLnVybH0ke3RvUGFyYW1zKHRoaXMuI29wdGlvbnMucGFyYW1zKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgaGVhZGVycyBvYmplY3QgZm9yIHRoZSByZXF1ZXN0LlxyXG4gICAgICogQHJldHVybnMgUmVxdWVzdCBoZWFkZXIgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIGdldEhlYWRlcnMoKTogQmF0Y2hKb2JIZWFkZXJbXSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLiNvcHRpb25zLmhlYWRlcnM7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0czogQmF0Y2hKb2JIZWFkZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICBpZiAoaXNPYmplY3QoaGVhZGVycykpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGhlYWRlcnNba2V5XTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7IGtleSwgdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBnZXRQYXlsb2FkKCk6IEJvZHlJbml0IHwgbnVsbCB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI29wdGlvbnMuYm9keTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHBheWxvYWQgZnJvbSB0aGUgc2VydmVyIG9uY2UgdGhlIGNoYW5nZXNldCBpcyBxdWVyaWVkIGFuZCBwcm9jZXNzZWQuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgcmF3IGRhdGEgdGhlIHNlcnZlciByZXNwb25kZWQgd2l0aCBmcm9tIHRoZSByZXF1ZXN0LlxyXG4gICAgICovXHJcbiAgICBnZXRSZXNwb25zZVBheWxvYWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Jlc3BvbnNlUGF5bG9hZDtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBzZXRSZXNwb25zZVBheWxvYWQocGF5bG9hZDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy4jcmVzcG9uc2VQYXlsb2FkID0gcGF5bG9hZDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCdW5kbGVzIG9mIENoYW5nZXNldCBvYmplY3RzIGFyZSBsdW1wZWQgaW50byBcImJhdGNoIGpvYlwiIGVudHJpZXMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY2xhc3MgQmF0Y2hKb2Ige1xyXG5cclxuICAgIHN0YXRpYyBOdW1NYXhDaGFuZ2VzZXRzID0gMTAwO1xyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNvcHRpb25zOiBCYXRjaEpvYk9wdGlvbnM7XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgI2NoYW5nZXNldHM6IENoYW5nZXNldFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEJhdGNoSm9iT3B0aW9ucykge1xyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLiNjaGFuZ2VzZXRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0T3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4jb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDaGFuZ2VzZXRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNjaGFuZ2VzZXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaWdub3JlICovXHJcbiAgICBpc0NoYW5nZXNldHNGdWxsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNjaGFuZ2VzZXRzLmxlbmd0aCA+PSBCYXRjaEpvYi5OdW1NYXhDaGFuZ2VzZXRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXBwZW5kIGEgY2hhbmdlc2V0IHRvIHRoZSBjaGFuZ2VzZXQgcXVldWUuXHJcbiAgICAgKiBAcGFyYW0gY2hhbmdlc2V0IEFuIG9iamVjdCBvZiBgQ2hhbmdlc2V0YC5cclxuICAgICAqIEByZXR1cm5zIFN1Y2Nlc3NmdWxsIGFkZGl0aW9ucyByZXR1cm4gdGhlIGBpbmRleGAgaW4gdGhlIHF1ZXVlIG90aGVyd2lzZSBgLTFgLlxyXG4gICAgICovXHJcbiAgICBhZGRDaGFuZ2VzZXQoY2hhbmdlc2V0OiBDaGFuZ2VzZXQpOiBudW1iZXIge1xyXG4gICAgICAgIGlmIChjaGFuZ2VzZXQgaW5zdGFuY2VvZiBDaGFuZ2VzZXQpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNoYW5nZXNldC5nZXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVybFswXSA9PT0gJy8nKVxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy51cmwgPSBgJHt0aGlzLiNvcHRpb25zLnVybH0ke29wdGlvbnMudXJsfWA7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNjaGFuZ2VzZXRzLnB1c2goY2hhbmdlc2V0KSAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBnZXRQYXlsb2FkKGd1aWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGFuZ2VzZXQgb2YgdGhpcy4jY2hhbmdlc2V0cykge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gY2hhbmdlc2V0LmdldE1ldGhvZCgpO1xyXG4gICAgICAgICAgICBjb25zdCBib3VuZGFyeSA9IG1ldGhvZCA9PT0gJ0dFVCcgPyBudWxsIDogYGNoYW5nZXNldF8ke2NyZWF0ZUdVSUQoKX1gO1xyXG5cclxuICAgICAgICAgICAgZGF0YS5wdXNoKGAtLWJhdGNoXyR7Z3VpZH1gKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChib3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKGBDb250ZW50LVR5cGU6IG11bHRpcGFydC9taXhlZDsgYm91bmRhcnk9XCIke2JvdW5kYXJ5fVwiYCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vaHR0cCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IGJpbmFyeScpO1xyXG4gICAgICAgICAgICBkYXRhLnB1c2goJycpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYCR7bWV0aG9kfSAke2NoYW5nZXNldC5nZXRVcmwoKX0gSFRUUC8xLjFgKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBjaGFuZ2VzZXQuZ2V0SGVhZGVycygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGAke2hlYWRlci5rZXl9OiAke2hlYWRlci52YWx1ZX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJycpO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYC0tJHtib3VuZGFyeX1gKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9odHRwJyk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJ0NvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IGJpbmFyeScpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYCR7bWV0aG9kfSAke2NoYW5nZXNldC5nZXRVcmwoKX0gSFRUUC8xLjFgKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQWNjZXB0OiBhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2UnKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCgnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uO29kYXRhPXZlcmJvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBjaGFuZ2VzZXQuZ2V0SGVhZGVycygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGAke2hlYWRlci5rZXl9OiAke2hlYWRlci52YWx1ZX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXNldFBheWxvYWQgPSBjaGFuZ2VzZXQuZ2V0UGF5bG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VzZXRQYXlsb2FkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChKU09OLnN0cmluZ2lmeShjaGFuZ2VzZXRQYXlsb2FkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYm91bmRhcnkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaChgLS0ke2JvdW5kYXJ5fS0tYCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0YS5qb2luKCdcXHJcXG4nKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgI2dldFNlbmRPcHRpb25zKGJhdGNoOiBTaGFyZVBvaW50QmF0Y2gsIG9wdGlvbnM/OiBSZXF1ZXN0T3B0aW9ucyk6IFJlcXVlc3RPcHRpb25zIHtcclxuXHJcbiAgICAgICAgY29uc3QgYmF0Y2hPcHRpb25zID0gYmF0Y2guZ2V0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICBjb25zdCBmYWxsYmFjayA9IGV4dGVuZCh7fSwgRmFsbGJhY2tSZXF1ZXN0T3B0aW9ucywgYmF0Y2hPcHRpb25zLCBvcHRpb25zKSBhcyBSZXF1ZXN0T3B0aW9ucztcclxuXHJcbiAgICAgICAgY29uc3QgZ3VpZCA9IGNyZWF0ZUdVSUQoKTtcclxuXHJcbiAgICAgICAgZmFsbGJhY2subWV0aG9kID0gJ1BPU1QnO1xyXG4gICAgICAgIGZhbGxiYWNrLnVybCA9IGAke2JhdGNoT3B0aW9ucy51cmx9L19hcGkvJGJhdGNoYDtcclxuXHJcbiAgICAgICAgaWYgKGZhbGxiYWNrLmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKGZhbGxiYWNrLmhlYWRlcnMsIHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBgbXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1cImJhdGNoXyR7Z3VpZH1cImAsXHJcbiAgICAgICAgICAgICAgICAnWC1SZXF1ZXN0RGlnZXN0JzogYmF0Y2hPcHRpb25zLmRpZ2VzdCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmYWxsYmFjay5ib2R5ID0gYCR7dGhpcy5nZXRQYXlsb2FkKGd1aWQpfVxcclxcbi0tYmF0Y2hfJHtndWlkfS0tYDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAjcHJvY2Vzc1Jlc3BvbnNlUGF5bG9hZChjaGFuZ2VzZXQ6IENoYW5nZXNldCwgcGF5bG9hZDogUmVzcG9uc2VQYXJzZXJQYXlsb2FkIHwgc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgIGNoYW5nZXNldC5zZXRSZXNwb25zZVBheWxvYWQocGF5bG9hZCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzUGF5bG9hZCA9IGlzT2JqZWN0KHBheWxvYWQpO1xyXG4gICAgICAgIGNvbnN0IHNhZmVQYXlsb2FkID0gaXNQYXlsb2FkID8gcGF5bG9hZCBhcyBSZXNwb25zZVBhcnNlclBheWxvYWQgOiBudWxsO1xyXG4gICAgICAgIGNvbnN0IG9rID0gKHNhZmVQYXlsb2FkID8gc2FmZVBheWxvYWQuaHR0cC5zdGF0dXMgLyAxMDAgfCAwIDogMCkgPT09IDI7XHJcblxyXG4gICAgICAgIGlmIChzYWZlUGF5bG9hZClcclxuICAgICAgICAgICAgc2FmZVBheWxvYWQuY2hhbmdlc2V0ID0gY2hhbmdlc2V0O1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zID0gY2hhbmdlc2V0LmdldE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgaWYgKG9rKVxyXG4gICAgICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnZmFpbCcsIGNoYW5nZXNldCwgcGF5bG9hZCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBzYWZlQ2FsbChvcHRpb25zLCAnZG9uZScsIGNoYW5nZXNldCwgcGF5bG9hZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIGFzeW5jIHNlbmQoYmF0Y2g6IFNoYXJlUG9pbnRCYXRjaCwgb3B0aW9ucz86IFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxTaGFyZVBvaW50QmF0Y2hKb2JSZXNwb25zZT4ge1xyXG5cclxuICAgICAgICBjb25zdCBjaGFuZ2VzZXRzID0gdGhpcy4jY2hhbmdlc2V0cztcclxuICAgICAgICBjaGFuZ2VzZXRzLmZvckVhY2goY2hhbmdlc2V0ID0+IHNhZmVDYWxsKGNoYW5nZXNldC5nZXRPcHRpb25zKCksICdiZWZvcmUnLCBjaGFuZ2VzZXQpKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2FmZURvbmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNldHMuZm9yRWFjaChjaGFuZ2VzZXQgPT4gc2FmZUNhbGwoY2hhbmdlc2V0LmdldE9wdGlvbnMoKSwgJ2RvbmUnLCBjaGFuZ2VzZXQpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBzYWZlRXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNoYW5nZXNldHMuZm9yRWFjaChjaGFuZ2VzZXQgPT4gc2FmZUNhbGwoY2hhbmdlc2V0LmdldE9wdGlvbnMoKSwgJ2ZhaWwnLCBjaGFuZ2VzZXQpKTtcclxuICAgICAgICAgICAgY2hhbmdlc2V0cy5mb3JFYWNoKGNoYW5nZXNldCA9PiBzYWZlQ2FsbChjaGFuZ2VzZXQuZ2V0T3B0aW9ucygpLCAnZmluYWxseScsIGNoYW5nZXNldCkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHNhZmVGaW5hbGx5ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjaGFuZ2VzZXRzLmZvckVhY2goY2hhbmdlc2V0ID0+IHNhZmVDYWxsKGNoYW5nZXNldC5nZXRPcHRpb25zKCksICdmaW5hbGx5JywgY2hhbmdlc2V0KSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2sgPSB0aGlzLiNnZXRTZW5kT3B0aW9ucyhiYXRjaCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGNvbnN0IGJhY2t1cCA9IGV4dGVuZCh7fSwgRmFsbGJhY2tCYXRjaEpvYk9wdGlvbnMsIGZhbGxiYWNrKSBhcyBSZXF1ZXN0T3B0aW9ucztcclxuXHJcbiAgICAgICAgLy8gc3RvcmUgdGhlIHN0YXRlIGZyb20gdGhlIG9yaWdpbmFsIHJlc3BvbnNlIGNhbGxiYWNrc1xyXG4gICAgICAgIGxldCBkZWxheWVkRG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBkZWxheWVkRmFpbCA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBkZWxheWVkQXJnczogYW55W10gPSBbXTtcclxuXHJcbiAgICAgICAgLy8gb3ZlcnJpZGUgdGhlIGhhbmRsZXJzIHdpdGggb3VyIG93biBvbiB0aGUgZmFsbGJhY2sgb2JqZWN0XHJcbiAgICAgICAgZmFsbGJhY2suYmVmb3JlID0gKCkgPT4ge307XHJcbiAgICAgICAgZmFsbGJhY2suZG9uZSA9ICguLi5hcmdzOiBhbnlbXSkgPT4gKGRlbGF5ZWREb25lID0gdHJ1ZSwgZGVsYXllZEFyZ3MgPSBhcmdzKTtcclxuICAgICAgICBmYWxsYmFjay5mYWlsID0gKC4uLmFyZ3M6IGFueVtdKSA9PiAoZGVsYXllZEZhaWwgPSB0cnVlLCBkZWxheWVkQXJncyA9IGFyZ3MpO1xyXG4gICAgICAgIGZhbGxiYWNrLmZpbmFsbHkgPSAoKSA9PiB7fTtcclxuXHJcbiAgICAgICAgLy8gcGVyZm9ybSB0aGUgcXVlcnlcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFJlcXVlc3QoZmFsbGJhY2spO1xyXG5cclxuICAgICAgICAvLyBkcm9wIHRoZSBmYWxsYmFjayBvcHRpb24gcmVmZXJlbmNlIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBhcnJheVxyXG4gICAgICAgIGRlbGF5ZWRBcmdzLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgIGlmICghcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKGRlbGF5ZWRGYWlsKVxyXG4gICAgICAgICAgICAgICAgc2FmZUNhbGwoYmFja3VwLCAnZmFpbCcsIHJlc3BvbnNlLCBkZWxheWVkQXJnc1szXSB8fCBkZWxheWVkQXJnc1sxXSwgMCwgZGVsYXllZEFyZ3NbM10gfHwgZGVsYXllZEFyZ3NbMV0pOyAvLyBvdmVycmlkZSB0aGUgY2FsbGJhY2sgYXJndW1lbnRzIHRvIGluY2x1ZGUgZGF0YSB3ZSB3YW50IG1hZGUgYXdhcmUgb2YgaW4gdGhlIHBhcmVudCBjYWxsZXIgKGFkZGVkIGBkZWxheWVkQXJnc2ApXHJcbiAgICAgICAgICAgIHNhZmVFcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG5cclxuICAgICAgICBpZiAoIXBheWxvYWQgfHwgIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNhZmVQYXlsb2FkID0gUmVzcG9uc2VQYXJzZXIuU2FmZVBhcnNlKHBheWxvYWQpO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXllZEZhaWwpXHJcbiAgICAgICAgICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdmYWlsJywgcmVzcG9uc2UsIHNhZmVQYXlsb2FkLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQpOyAvLyBvdmVycmlkZSB0aGUgY2FsbGJhY2sgYXJndW1lbnRzIHRvIGluY2x1ZGUgZGF0YSB3ZSB3YW50IG1hZGUgYXdhcmUgb2YgaW4gdGhlIHBhcmVudCBjYWxsZXIgKGFkZGVkIGBzYWZlUGF5bG9hZGApXHJcbiAgICAgICAgICAgIHNhZmVFcnJvcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwYXJzZWQgPSBSZXNwb25zZVBhcnNlci5QYXJzZShwYXlsb2FkKTtcclxuXHJcbiAgICAgICAgaWYgKCFpc0FycmF5KHBhcnNlZCkpIHtcclxuICAgICAgICAgICAgY2hhbmdlc2V0cy5mb3JFYWNoKGNoYW5nZXNldCA9PiB0aGlzLiNwcm9jZXNzUmVzcG9uc2VQYXlsb2FkKGNoYW5nZXNldCwgcGF5bG9hZCkpO1xyXG4gICAgICAgICAgICBpZiAoZGVsYXllZERvbmUpXHJcbiAgICAgICAgICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdkb25lJywgcmVzcG9uc2UsIHBheWxvYWQpOyAvLyBvdmVycmlkZSB0aGUgY2FsbGJhY2sgYXJndW1lbnRzIHRvIGluY2x1ZGUgZGF0YSB3ZSB3YW50IG1hZGUgYXdhcmUgb2YgaW4gdGhlIHBhcmVudCBjYWxsZXIgKGFkZGVkIGBwYXlsb2FkYClcclxuICAgICAgICAgICAgc2FmZUZpbmFsbHkoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjaGFuZ2VzZXRQYXlsb2FkcyA9IHBhcnNlZCBhcyBSZXNwb25zZVBhcnNlclBheWxvYWRbXTtcclxuICAgICAgICBjaGFuZ2VzZXRzLmZvckVhY2goKGNoYW5nZXNldCwgaW5kZXgpID0+IHRoaXMuI3Byb2Nlc3NSZXNwb25zZVBheWxvYWQoY2hhbmdlc2V0LCBjaGFuZ2VzZXRQYXlsb2Fkc1tpbmRleF0pKTtcclxuICAgICAgICBpZiAoZGVsYXllZERvbmUpXHJcbiAgICAgICAgICAgIHNhZmVDYWxsKGJhY2t1cCwgJ2RvbmUnLCByZXNwb25zZSwgY2hhbmdlc2V0UGF5bG9hZHMpOyAvLyBvdmVycmlkZSB0aGUgY2FsbGJhY2sgYXJndW1lbnRzIHRvIGluY2x1ZGUgZGF0YSB3ZSB3YW50IG1hZGUgYXdhcmUgb2YgaW4gdGhlIHBhcmVudCBjYWxsZXIgKGFkZGVkIGBjaGFuZ2VzZXRQYXlsb2Fkc2ApXHJcbiAgICAgICAgc2FmZURvbmUoKTtcclxuICAgICAgICBzYWZlRmluYWxseSgpO1xyXG4gICAgICAgIHJldHVybiBjaGFuZ2VzZXRQYXlsb2FkcztcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICogVGhlIGxpYnJhcnkgZW50cnkgcG9pbnQgY2xhc3MuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2hhcmVQb2ludEJhdGNoIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZXh0cmFjdCBkYXRhIGZyb20gdGhlIGB3aW5kb3dgIHByb3BlcnRpZXMgYF9zcFBhZ2VDb250ZXh0SW5mb2AgYW5kIGBHZXRSZXF1ZXN0RGlnZXN0YC5cclxuICAgICAqIEByZXR1cm5zIElmIHBvc3NpYmxlIGl0IHJldHVybnMgYSBgU2hhcmVQb2ludE9wdGlvbnNgIG9iamVjdCBvdGhlcndpc2Ugbm90aGluZy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIEdldFNoYXJlUG9pbnRPcHRpb25zKCk6IFNoYXJlUG9pbnRPcHRpb25zIHwgdW5kZWZpbmVkIHtcclxuXHJcbiAgICAgICAgY29uc3Qgd2luOiBhbnkgPSB3aW5kb3c7XHJcbiAgICAgICAgY29uc3QgY29udGV4dDogYW55ID0gd2luLl9zcFBhZ2VDb250ZXh0SW5mbztcclxuICAgICAgICBjb25zdCBnZXREaWdlc3Q6IGFueSA9IHdpbi5HZXRSZXF1ZXN0RGlnZXN0O1xyXG5cclxuICAgICAgICBpZiAoIWlzT2JqZWN0KGNvbnRleHQpIHx8IHR5cGVvZiBnZXREaWdlc3QgIT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHVybDogYW55ID0gY29udGV4dC53ZWJBYnNvbHV0ZVVybDtcclxuICAgICAgICBsZXQgZGlnZXN0OiBhbnk7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGRpZ2VzdCA9IGdldERpZ2VzdCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4OiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNTdHJpbmcodXJsKSlcclxuICAgICAgICAgICAgdXJsID0gJyc7XHJcblxyXG4gICAgICAgIGlmICghaXNTdHJpbmcoZGlnZXN0KSlcclxuICAgICAgICAgICAgZGlnZXN0ID0gJyc7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHVybCwgZGlnZXN0IH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNvcHRpb25zOiBTaGFyZVBvaW50T3B0aW9ucztcclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAjam9iczogQmF0Y2hKb2JbXTtcclxuXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICAjam9iOiBCYXRjaEpvYiB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBTaGFyZVBvaW50T3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuI29wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIHRoaXMuI2pvYnMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNhcHBlbmROZXdKb2Iob3B0aW9ucz86IEJhdGNoSm9iT3B0aW9ucyk6IEJhdGNoSm9iIHtcclxuXHJcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCB0aGlzLiNvcHRpb25zLCBvcHRpb25zKSBhcyBCYXRjaEpvYk9wdGlvbnM7XHJcblxyXG4gICAgICAgIHRoaXMuI2pvYiA9IG5ldyBCYXRjaEpvYihmYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy4jam9icy5wdXNoKHRoaXMuI2pvYik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLiNqb2I7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgICNnZXRBY3RpdmVKb2IoKTogQmF0Y2hKb2Ige1xyXG4gICAgICAgIGlmICghdGhpcy4jam9iKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4jYXBwZW5kTmV3Sm9iKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI2pvYjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZCBhIGNoYW5nZXNldCB0byB0aGUgYmF0Y2ggcXVldWUuXHJcbiAgICAgKiBAcGFyYW0gY2hhbmdlc2V0IE9iamVjdCBpbnN0YW5jZSBvZiBgQ2hhbmdlc2V0YC5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgY2hhbmdlc2V0IHdhcyBhZGRlZCBvdGhlcndpc2UgYGZhbHNlYC5cclxuICAgICAqL1xyXG4gICAgYWRkQ2hhbmdlc2V0KGNoYW5nZXNldDogQ2hhbmdlc2V0KTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGpvYiA9IHRoaXMuI2dldEFjdGl2ZUpvYigpO1xyXG4gICAgICAgIGlmIChqb2IuaXNDaGFuZ2VzZXRzRnVsbCgpKVxyXG4gICAgICAgICAgICBqb2IgPSB0aGlzLiNhcHBlbmROZXdKb2IoKTtcclxuICAgICAgICByZXR1cm4gam9iLmFkZENoYW5nZXNldChjaGFuZ2VzZXQpID4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFsbCBjaGFuZ2VzZXRzIGluIHRoZSBiYXRjaCBxdWV1ZS5cclxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIGNoYW5nZXNldHMuXHJcbiAgICAgKi9cclxuICAgIGdldENoYW5nZXNldHMoKTogQ2hhbmdlc2V0W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNqb2JzLnJlZHVjZSgocHYsIGN2KSA9PiB7IHB2LnB1c2goLi4uY3YuZ2V0Q2hhbmdlc2V0cygpKTsgcmV0dXJuIHB2OyB9LCBbXSBhcyBDaGFuZ2VzZXRbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzIHRoZSBiYXRjaCBxdWV1ZS4gU3VwcG9ydHMgYGF3YWl0YCBidXQgdGhlIHJlc3VsdHMgaXMgYWxsIHRoZSByZXR1cm5lZCBkYXRhIGZvciBlYWNoIGNoYW5nZXNldC5cclxuICAgICAqIFxyXG4gICAgICogWW91IGNhbiBhc3NpZ24gdGhlIGBkb25lYCBhbmQgYGZhaWxgIHRvIHRoZSBvcHRpb25hbCBhcmd1bWVudCBgb3B0aW9uc2AgYW5kIHRoZXkgd2lsbCBiZSBjYWxsZWQgYmFzZWQgb24gZXN0aW1hdGlvbiBnaXZlbiB0aGUgcmVzdWx0cyBvZiB0aGUgcmVxdWVzdC5cclxuICAgICAqIFNpbmNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIGpvYnMgaW52b2x2ZWQsIGVhY2ggam9iIHdpbGwgcG90ZW50aWFsbHkgc3VjY2VlZCBvciBmYWlsLCBkZXBlbmRpbmcgb24gdGhlIGNoYW5nZXNldHMgc3VibWl0dGVkIHRvIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBZb3UnbGwgbmVlZCB0byBpbnNwZWN0IGVhY2ggY2hhbmdlc2V0IHJlc3VsdCBhbmQgc2VlIGlmIGl0IHN1Y2NlZWRlZCBvciBmYWlsZWQsIGlmIHRoZSBgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2VgIG9iamVjdCBpcyBwcmVzZW50IGNoZWNrIHRoZSBgb2tgIHByb3BlcnR5IGZvciB0aGUgaHR0cCBzdGF0dXMuXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBgUmVxdWVzdE9wdGlvbnNgIG9iamVjdC5cclxuICAgICAqIEByZXR1cm5zIGBQcm9taXNlYCB0aGF0IHJldHVybnMgYW4gYXJyYXkgb2YgYFNoYXJlUG9pbnRCYXRjaFJlc3BvbnNlYCBidXQgaW4gY2FzZSBvZiBlcnJvcnMgdGhlIGFycmF5IGl0ZW0gd2lsbCBiZSBgdW5kZWZpbmVkYCBvciBhIGBzdHJpbmdgIHdoZW5ldmVyIGF2YWlsYWJsZS5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2VuZChvcHRpb25zPzogU2hhcmVQb2ludEJhdGNoT3B0aW9ucyk6IFByb21pc2U8U2hhcmVQb2ludEJhdGNoUmVzcG9uc2U+IHtcclxuXHJcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2sgPSBleHRlbmQoe30sIEZhbGxiYWNrQmF0Y2hKb2JPcHRpb25zLCBvcHRpb25zKSBhcyBSZXF1ZXN0T3B0aW9ucztcclxuXHJcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgY29uc3QgYmFja3VwID0gZXh0ZW5kKHt9LCBGYWxsYmFja0JhdGNoSm9iT3B0aW9ucywgZmFsbGJhY2spIGFzIFNoYXJlUG9pbnRCYXRjaE9wdGlvbnM7XHJcblxyXG4gICAgICAgIC8vIHN0b3JlIHRoZSBzdGF0ZSBmcm9tIHRoZSBvcmlnaW5hbCByZXNwb25zZSBjYWxsYmFja3NcclxuICAgICAgICBsZXQgZGVsYXllZERvbmUgPSBmYWxzZTtcclxuICAgICAgICBsZXQgZGVsYXllZEZhaWwgPSBmYWxzZTtcclxuICAgICAgICBsZXQgZGVsYXllZEFyZ3M6IGFueVtdID0gW107XHJcblxyXG4gICAgICAgIC8vIG92ZXJyaWRlIHRoZSBoYW5kbGVycyB3aXRoIG91ciBvd24gb24gdGhlIGZhbGxiYWNrIG9iamVjdFxyXG4gICAgICAgIGZhbGxiYWNrLmJlZm9yZSA9ICgpID0+IHt9O1xyXG4gICAgICAgIGZhbGxiYWNrLmRvbmUgPSAoLi4uYXJnczogYW55W10pID0+IChkZWxheWVkRG9uZSA9IHRydWUsIGRlbGF5ZWRBcmdzID0gYXJncyk7XHJcbiAgICAgICAgZmFsbGJhY2suZmFpbCA9ICguLi5hcmdzOiBhbnlbXSkgPT4gKGRlbGF5ZWRGYWlsID0gdHJ1ZSwgZGVsYXllZEFyZ3MgPSBhcmdzKTtcclxuICAgICAgICBmYWxsYmFjay5maW5hbGx5ID0gKCkgPT4ge307XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IFNoYXJlUG9pbnRCYXRjaEpvYlJlc3BvbnNlW10gPSBbXTtcclxuICAgICAgICBsZXQgc3VjY2VzcyA9IDA7XHJcbiAgICAgICAgbGV0IGZhaWwgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGpvYiBvZiB0aGlzLiNqb2JzKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBqb2Iuc2VuZCh0aGlzLCBmYWxsYmFjayk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShyZXN1bHQpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2FmZVJlc3VsdDogYW55ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyArPSBzYWZlUmVzdWx0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaCguLi5zYWZlUmVzdWx0KTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gam9iLmdldENoYW5nZXNldHMoKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBmYWlsICs9IGNvdW50O1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvdW50LS0gPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxsIGZhaWxzIHdlIG92ZXJyaWRlIHRoZSBkb25lIGludG8gYSBmYWlsXHJcbiAgICAgICAgaWYgKGRlbGF5ZWREb25lICYmICFkZWxheWVkRmFpbCAmJiAhc3VjY2VzcyAmJiBmYWlsKSB7XHJcbiAgICAgICAgICAgIGRlbGF5ZWREb25lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRlbGF5ZWRGYWlsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgbm8gZG9uZSBvciBmYWlsIGl0IG1lYW5zIHRoZSBxdWV1ZSB3YXMgZW1wdHlcclxuICAgICAgICBpZiAoIWRlbGF5ZWREb25lICYmICFkZWxheWVkRmFpbCkge1xyXG4gICAgICAgICAgICBkZWxheWVkRG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGRlbGF5ZWRBcmdzWzFdID0gYmFja3VwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZHJvcCB0aGUgZmFsbGJhY2sgb3B0aW9uIHJlZmVyZW5jZSBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYXJyYXlcclxuICAgICAgICBkZWxheWVkQXJncy5zaGlmdCgpO1xyXG5cclxuICAgICAgICAvLyBpZiBzdWNjZXNzIHdlIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgZGF0YVxyXG4gICAgICAgIGlmIChkZWxheWVkRG9uZSkge1xyXG4gICAgICAgICAgICBkZWxheWVkQXJnc1sxXSA9IHJlc3VsdHM7XHJcbiAgICAgICAgICAgIHNhZmVDYWxsKGJhY2t1cCwgJ2RvbmUnLCAuLi5kZWxheWVkQXJncyk7XHJcbiAgICAgICAgICAgIHNhZmVDYWxsKGJhY2t1cCwgJ2ZpbmFsbHknLCAuLi5kZWxheWVkQXJncyk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG9rOiB0cnVlLCByZXN1bHRzIH0gYXMgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2VTdWNjZXNzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHJldHVybiBmYWlsZWQgcmVzdWx0IGZyb20gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgc2FmZUNhbGwoYmFja3VwLCAnZmFpbCcsIC4uLmRlbGF5ZWRBcmdzKTtcclxuICAgICAgICBzYWZlQ2FsbChiYWNrdXAsICdmaW5hbGx5JywgLi4uZGVsYXllZEFyZ3MpO1xyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiB0cnVlLCBvazogZmFsc2UsIHJlc3VsdHM6IGRlbGF5ZWRBcmdzWzFdIH0gYXMgU2hhcmVQb2ludEJhdGNoUmVzcG9uc2VFcnJvcjtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IENhbGxiYWNrUHJvcHMsIFJlcXVlc3RPcHRpb25zLCBCYXRjaEpvYk9wdGlvbnMsIFNoYXJlUG9pbnRCYXRjaE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gKG9iamVjdDogYW55KSA9PiBBcnJheS5pc0FycmF5KG9iamVjdCk7XHJcblxyXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAob2JqZWN0OiBhbnksIHBsYWluT2JqZWN0OiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuID0+IG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiAoIXBsYWluT2JqZWN0IHx8ICFpc0FycmF5KG9iamVjdCkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzU3RyaW5nID0gKG9iamVjdDogYW55KSA9PiB0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJztcclxuXHJcbmV4cG9ydCBjb25zdCBleHRlbmQgPSA8VD4odGFyZ2V0OiBULCAuLi5zb3VyY2VzOiBUW10pOiBUID0+IE9iamVjdC5hc3NpZ24odGFyZ2V0IGFzIE9iamVjdCwgLi4uc291cmNlcyk7XHJcblxyXG5leHBvcnQgY29uc3QgdG9QYXJhbXMgPSAob2JqZWN0OiBhbnkpOiBzdHJpbmcgPT4ge1xyXG5cclxuICAgIGlmIChvYmplY3QgPT0gbnVsbClcclxuICAgICAgICByZXR1cm4gJyc7XHJcblxyXG4gICAgY29uc3QgYXJyYXlQcmVmaXggPSAnYSc7XHJcbiAgICBjb25zdCBwYXJhbVByZWZpeCA9ICc/JztcclxuICAgIGNvbnN0IHBhcmFtRGVsaW0gPSAnJic7XHJcblxyXG4gICAgY29uc3Qgc2VyaWFsaXplID0gKG86IG9iamVjdCwgbj86IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcblxyXG4gICAgICAgIGlmIChpc0FycmF5KG8pKSB7XHJcblxyXG4gICAgICAgICAgICAvL0B0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgcmV0dXJuIG8ubWFwKCh2OiBhbnksIGs6IGFueSkgPT4gYCR7biB8fCBhcnJheVByZWZpeH1bJHtrfV09JHtzZXJpYWxpemUodil9YCkuam9pbihwYXJhbURlbGltKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvKSkge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcDogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBvKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFvLmhhc093blByb3BlcnR5KGspKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IG9ba107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcclxuICAgICAgICAgICAgICAgICAgICBwLnB1c2goc2VyaWFsaXplKHYsIGspKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5wdXNoKGAke2t9PSR7c2VyaWFsaXplKHYpfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHAuam9pbihwYXJhbURlbGltKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwID0gYCR7b31gO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcDtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHBhcmFtcyA9IHNlcmlhbGl6ZShvYmplY3QpO1xyXG5cclxuICAgIGlmICghcGFyYW1zLmxlbmd0aClcclxuICAgICAgICByZXR1cm4gJyc7XHJcblxyXG4gICAgcmV0dXJuIGAke3BhcmFtUHJlZml4fSR7cGFyYW1zfWA7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUdVSUQgPSAoKTogc3RyaW5nID0+IHtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIChjOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcclxuICAgICAgICByZXR1cm4gKGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCkpLnRvU3RyaW5nKDE2KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNhZmVDYWxsID0gKG9wdGlvbnM6IFJlcXVlc3RPcHRpb25zIHwgQmF0Y2hKb2JPcHRpb25zIHwgU2hhcmVQb2ludEJhdGNoT3B0aW9ucywgcHJvcDogQ2FsbGJhY2tQcm9wcywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1twcm9wXTtcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICB2YWx1ZS5jYWxsKG51bGwsIG9wdGlvbnMsIC4uLmFyZ3MpO1xyXG59O1xyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgQ2hhbmdlc2V0LCBTaGFyZVBvaW50QmF0Y2ggfSBmcm9tICcuL3NoYXJlcG9pbnQnO1xyXG5cclxuKCh3aW5kb3c6IGFueSwgU2hhcmVQb2ludEJhdGNoOiBhbnkpID0+IHtcclxuICAgIFNoYXJlUG9pbnRCYXRjaC5DaGFuZ2VzZXQgPSBDaGFuZ2VzZXQ7XHJcbiAgICB3aW5kb3cuU2hhcmVQb2ludEJhdGNoID0gU2hhcmVQb2ludEJhdGNoO1xyXG59KSh3aW5kb3csIFNoYXJlUG9pbnRCYXRjaCk7XHJcbiJdLCJuYW1lcyI6WyJSZXF1ZXN0Iiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVzcG9uc2UiLCJzYWZlQ2FsbCIsImZldGNoIiwidXJsIiwib2siLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiZXgiLCJSZXF1ZXN0SnNvbiIsImpzb24iLCJGYWxsYmFja0JhdGNoSm9iT3B0aW9ucyIsIm1ldGhvZCIsIkZhbGxiYWNrUmVxdWVzdE9wdGlvbnMiLCJoZWFkZXJzIiwiUmVzcG9uc2VQYXJzZXIiLCJzdGF0aWMiLCJyYXciLCJpc1N0cmluZyIsIkpTT04iLCJwYXJzZSIsInBhcnNlTGV2ZWxzIiwiTGV2ZWwiLCJsaW5lcyIsInNwbGl0IiwiTGluZVNlcGFyYXRvciIsInJlc3VsdHMiLCJ0ZW1wIiwiY3dvIiwibGV2ZWwiLCJVTktOT1dOIiwibGluZSIsIkJhdGNoUmVzcG9uc2UxIiwidGVzdCIsImRhdGEiLCJ0aGlzIiwiUGFyc2UiLCJwdXNoIiwiRU9GIiwiQmF0Y2hSZXNwb25zZTIiLCJodHRwIiwiSEVBREVSUyIsIlJFUVVFU1RfQk9EWSIsIkJhdGNoUmVzcG9uc2UzIiwiUkVRVUVTVCIsIm1hdGNoIiwicGFyc2VJbnQiLCJSRVFVRVNUX0hFQURFUlMiLCJwYXJ0cyIsIkhlYWRlcktWU2VwYXJhdG9yIiwicmF3SGVhZGVyIiwic2hpZnQiLCJrZXkiLCJ0cmltIiwiam9pbiIsIkhlYWRlcktWU2VwYXJhdG9yQ2hhciIsImxlbmd0aCIsInNhZmVQYXJzZSIsIlNhZmVQYXJzZSIsImRvbSIsImRvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImVycm9yIiwicXVlcnlTZWxlY3RvciIsImNvZGUiLCJtZXNzYWdlIiwiaW5uZXJIVE1MIiwiQ2hhbmdlc2V0IiwiY29uc3RydWN0b3IiLCJleHRlbmQiLCJnZXRPcHRpb25zIiwiZ2V0TWV0aG9kIiwiZ2V0VXJsIiwidG9QYXJhbXMiLCJwYXJhbXMiLCJnZXRIZWFkZXJzIiwiaXNPYmplY3QiLCJ2YWx1ZSIsImdldFBheWxvYWQiLCJib2R5IiwiZ2V0UmVzcG9uc2VQYXlsb2FkIiwic2V0UmVzcG9uc2VQYXlsb2FkIiwicGF5bG9hZCIsIkJhdGNoSm9iIiwiZ2V0Q2hhbmdlc2V0cyIsImlzQ2hhbmdlc2V0c0Z1bGwiLCJOdW1NYXhDaGFuZ2VzZXRzIiwiYWRkQ2hhbmdlc2V0IiwiY2hhbmdlc2V0IiwiZ3VpZCIsImJvdW5kYXJ5IiwiY3JlYXRlR1VJRCIsImhlYWRlciIsImNoYW5nZXNldFBheWxvYWQiLCJzdHJpbmdpZnkiLCJzZW5kIiwiYmF0Y2giLCJjaGFuZ2VzZXRzIiwiZm9yRWFjaCIsInNhZmVFcnJvciIsInNhZmVGaW5hbGx5IiwiZmFsbGJhY2siLCJiYWNrdXAiLCJkZWxheWVkRG9uZSIsImRlbGF5ZWRGYWlsIiwiZGVsYXllZEFyZ3MiLCJiZWZvcmUiLCJkb25lIiwiYXJncyIsImZhaWwiLCJmaW5hbGx5IiwidGV4dCIsInNhZmVQYXlsb2FkIiwicGFyc2VkIiwiaXNBcnJheSIsImNoYW5nZXNldFBheWxvYWRzIiwiaW5kZXgiLCJiYXRjaE9wdGlvbnMiLCJkaWdlc3QiLCJ3aW4iLCJ3aW5kb3ciLCJjb250ZXh0IiwiX3NwUGFnZUNvbnRleHRJbmZvIiwiZ2V0RGlnZXN0IiwiR2V0UmVxdWVzdERpZ2VzdCIsIndlYkFic29sdXRlVXJsIiwiam9iIiwicmVkdWNlIiwicHYiLCJjdiIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJzYWZlUmVzdWx0IiwiY291bnQiLCJvYmplY3QiLCJBcnJheSIsInBsYWluT2JqZWN0IiwidGFyZ2V0Iiwic291cmNlcyIsIk9iamVjdCIsImFzc2lnbiIsInNlcmlhbGl6ZSIsIm8iLCJuIiwibWFwIiwidiIsImsiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXBsYWNlIiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJwcm9wIiwiY2FsbCIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwicHJvdG90eXBlIiwiX19leHRlbmRzIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJjcmVhdGUiLCJfX2Fzc2lnbiIsInQiLCJzIiwiaSIsImFyZ3VtZW50cyIsImFwcGx5IiwiX19yZXN0IiwiZSIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImRlZmluZVByb3BlcnR5IiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvcCIsInBvcCIsIl9fY3JlYXRlQmluZGluZyIsIm0iLCJrMiIsInVuZGVmaW5lZCIsIl9fZXNNb2R1bGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJfX2V4cG9ydFN0YXIiLCJfX3ZhbHVlcyIsIl9fcmVhZCIsImFyIiwiX19zcHJlYWQiLCJjb25jYXQiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiYSIsImoiLCJqbCIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsImZyb20iLCJwYWNrIiwibCIsInNsaWNlIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJfX2FzeW5jRGVsZWdhdG9yIiwiX19hc3luY1ZhbHVlcyIsIl9fbWFrZVRlbXBsYXRlT2JqZWN0IiwiY29va2VkIiwiX19zZXRNb2R1bGVEZWZhdWx0IiwiX19pbXBvcnRTdGFyIiwibW9kIiwiX19pbXBvcnREZWZhdWx0IiwiZGVmYXVsdCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJyZWNlaXZlciIsInN0YXRlIiwia2luZCIsImhhcyIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJzZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkSW4iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJvYmoiLCJ0b1N0cmluZ1RhZyIsIlNoYXJlUG9pbnRCYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=